!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e){e.exports={ar:{latex:"LaTeX",cancel:"إلغاء",accept:"موا�?ق",manual:"الدليل",insert_math:"إدراج صيغة رياضية - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},ca:{latex:"LaTeX",cancel:"Cancel·lar",accept:"Acceptar",manual:"Manual",insert_math:"Inserir fórmula matemàtica - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},cs:{latex:"LaTeX",cancel:"Storno",accept:"OK",manual:"Příru�?ka",insert_math:"Vložit matematický vzorec - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},da:{latex:"LaTeX",cancel:"Annuller",accept:"OK",manual:"Brugervejledning",insert_math:"Indsæt matematisk formel - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},de:{latex:"LaTeX",cancel:"Abbrechen",accept:"OK",manual:"Handbuch",insert_math:"Mathematische Formel einfügen - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},en:{latex:"LaTeX",cancel:"Cancel",accept:"OK",manual:"Manual",insert_math:"Insert a math equation - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},es:{latex:"LaTeX",cancel:"Cancelar",accept:"Aceptar",manual:"Manual",insert_math:"Insertar fórmula matemática - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},et:{latex:"LaTeX",cancel:"Loobu",accept:"OK",manual:"Käsiraamat",insert_math:"Lisa matemaatiline valem – WIRIS",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},eu:{latex:"LaTeX",cancel:"Ezeztatu",accept:"Onartu",manual:"Gida",insert_math:"Txertatu matematikako formula - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},fi:{latex:"LaTeX",cancel:"Peruuta",accept:"OK",manual:"Manual",insert_math:"Liitä matemaattinen kaava - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},fr:{latex:"LaTeX",cancel:"Annuler",accept:"OK",manual:"Manuel",insert_math:"Insérer une formule mathématique - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},gl:{latex:"LaTeX",cancel:"Cancelar",accept:"Aceptar",manual:"Manual",insert_math:"Inserir fórmula matemática - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},he:{latex:"LaTeX",cancel:"ביטול",accept:"�?ישור",manual:"מדריך",insert_math:"הוסף נוסחה מתמטית - MathType",insert_chem:"הוספת כתיבה כימית - ChemType",minimize:"מזערי",maximize:"מרבי",fullscreen:"מסך מל�?",exit_fullscreen:"יצי�?ה ממצב מסך מל�?",close:"סגירה",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"ה�?�? לצ�?ת? שינויי�? �?שר בוצעו ימחקו.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" �?יננה פונקציה",exception_invalid_date_format:"תסדיר ת�?ריך �?ינו תקין : ",exception_casting:"ל�? ניתן להמיר ",exception_casting_to:" ל "},hr:{latex:"LaTeX",cancel:"Poništi",accept:"U redu",manual:"Priru�?nik",insert_math:"Umetnite matemati�?ku formulu - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},hu:{latex:"LaTeX",cancel:"Mégsem",accept:"OK",manual:"Kézikönyv",insert_math:"Matematikai képlet beszúrása - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},it:{latex:"LaTeX",cancel:"Annulla",accept:"Accetta",manual:"Manuale",insert_math:"Inserisci una formula matematica - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},ja:{latex:"LaTeX",cancel:"キャンセル",accept:"OK",manual:"マニュアル",insert_math:"数�?を挿入 - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},ko:{latex:"LaTeX",cancel:"취소",accept:"승�?�",manual:"설명서",insert_math:"수학 공�? 삽입 - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},nl:{latex:"LaTeX",cancel:"Annuleren",accept:"OK",manual:"Handleiding",insert_math:"Wiskundige formule invoegen - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},no:{latex:"LaTeX",cancel:"Avbryt",accept:"OK",manual:"Håndbok",insert_math:"Sett inn matematikkformel - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},pl:{latex:"LaTeX",cancel:"Anuluj",accept:"OK",manual:"Instrukcja",insert_math:"Wstaw formułę matematyczną - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},pt:{latex:"LaTeX",cancel:"Cancelar",accept:"OK",manual:"Manual",insert_math:"Inserir fórmula matemática - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},pt_br:{latex:"LaTeX",cancel:"Cancelar",accept:"OK",manual:"Manual",insert_math:"Inserir fórmula matemática - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},ru:{latex:"LaTeX",cancel:"отмена",accept:"OK",manual:"вручную",insert_math:"В�?тавить математиче�?кую формулу: WIRIS",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},sv:{latex:"LaTeX",cancel:"Avbryt",accept:"OK",manual:"Bruksanvisning",insert_math:"Infoga matematisk formel - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},tr:{latex:"LaTeX",cancel:"Vazgeç",accept:"Tamam",manual:"Kılavuz",insert_math:"Matematik formülü ekle - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},zh:{latex:"LaTeX",cancel:"�?�消",accept:"确定",manual:"手册",insert_math:"�?�入数学公�? - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},el:{latex:"LaTeX",cancel:"Άκυ�?ο",accept:"ΟΚ",manual:"Χει�?οκίνητα",insert_math:"Εισαγωγή μαθηματικο�? τ�?που - MathType",insert_chem:"Insert a chemistry formula - ChemType",minimize:"Minimize",maximize:"Maximize",fullscreen:"Full-screen",exit_fullscreen:"Exit full-screen",close:"Close",mathtype:"MathType",title_modalwindow:"MathType modal window",close_modal_warning:"Are you sure you want to leave? The changes you made will be lost.",latex_name_label:"Latex Formula",browser_no_compatible:"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.",error_convert_accessibility:"Error converting from MathML to accessible text.",exception_cross_site:"Cross site scripting is only allowed for HTTP.",exception_high_surrogate:"High surrogate not followed by low surrogate in fixedCharCodeAt()",exception_string_length:"Invalid string. Length must be a multiple of 4",exception_key_nonobject:"Object.keys called on non-object",exception_null_or_undefined:" this is null or not defined",exception_not_function:" is not a function",exception_invalid_date_format:"Invalid date format : ",exception_casting:"Cannot cast ",exception_casting_to:" to "},"":{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var md5,_unused_webpack_default_export=md5;!function(){var HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.dateStr=function(e){var t=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)},HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(t[0]),i.setUTCMinutes(t[1]),i.setUTCSeconds(t[2]),i;case 10:t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var n=(t=e.split(" "))[0].split("-"),o=t[1].split(":");return new Date(n[0],n[1]-1,n[2],o[0],o[1],o[2]);default:throw"Invalid date format : "+e}},HxOverrides.cca=function(e,t){var i=e.charCodeAt(t);if(i==i)return i},HxOverrides.substr=function(e,t,i){return null!=t&&0!=t&&null!=i&&i<0?"":(null==i&&(i=e.length),t<0?(t=e.length+t)<0&&(t=0):i<0&&(i=e.length+i-t),e.substr(t,i))},HxOverrides.remove=function(e,t){for(var i=0,n=e.length;i<n;){if(e[i]==t)return e.splice(i,1),!0;i++}return!1},HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e,this.max=t};IntIter.__name__=!0,IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=!0,Std.is=function(e,t){return js.Boot.__instanceof(e,t)},Std.string=function(e){return js.Boot.__string_rec(e,"")},Std.int=function(e){return 0|e},Std.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=HxOverrides.cca(e,1)&&88!=HxOverrides.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},Std.parseFloat=function(e){return parseFloat(e)},Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};com.wiris||(com.wiris={}),com.wiris.js||(com.wiris.js={}),com.wiris.js.JsPluginTools=function(){this.tryReady()},com.wiris.js.JsPluginTools.__name__=!0,com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance(),haxe.Timer.delay($bind(e,e.tryReady),100)},com.wiris.js.JsPluginTools.getInstance=function(){return null==com.wiris.js.JsPluginTools.instance&&(com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools),com.wiris.js.JsPluginTools.instance},com.wiris.js.JsPluginTools.bypassEncapsulation=function(){null==window.com&&(window.com={}),null==window.com.wiris&&(window.com.wiris={}),null==window.com.wiris.js&&(window.com.wiris.js={}),null==window.com.wiris.js.JsPluginTools&&(window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance())},com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=!0,com.wiris.js.JsPluginTools.instance=this,com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=!1,js.Lib.document.readyState&&(this.doLoad(),this.ready=!0),this.ready||haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){},haxe.Log.__name__=!0,haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Md5=function(){},haxe.Md5.__name__=!0,haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)},haxe.Md5.prototype={doEncode:function(e){for(var t=this.str2blks(e),i=1732584193,n=-271733879,o=-1732584194,s=271733878,r=0;r<t.length;){var a=i,l=n,c=o,d=s;0,i=this.ff(i,n,o,s,t[r],7,-680876936),s=this.ff(s,i,n,o,t[r+1],12,-389564586),o=this.ff(o,s,i,n,t[r+2],17,606105819),n=this.ff(n,o,s,i,t[r+3],22,-1044525330),i=this.ff(i,n,o,s,t[r+4],7,-176418897),s=this.ff(s,i,n,o,t[r+5],12,1200080426),o=this.ff(o,s,i,n,t[r+6],17,-1473231341),n=this.ff(n,o,s,i,t[r+7],22,-45705983),i=this.ff(i,n,o,s,t[r+8],7,1770035416),s=this.ff(s,i,n,o,t[r+9],12,-1958414417),o=this.ff(o,s,i,n,t[r+10],17,-42063),n=this.ff(n,o,s,i,t[r+11],22,-1990404162),i=this.ff(i,n,o,s,t[r+12],7,1804603682),s=this.ff(s,i,n,o,t[r+13],12,-40341101),o=this.ff(o,s,i,n,t[r+14],17,-1502002290),n=this.ff(n,o,s,i,t[r+15],22,1236535329),i=this.gg(i,n,o,s,t[r+1],5,-165796510),s=this.gg(s,i,n,o,t[r+6],9,-1069501632),o=this.gg(o,s,i,n,t[r+11],14,643717713),n=this.gg(n,o,s,i,t[r],20,-373897302),i=this.gg(i,n,o,s,t[r+5],5,-701558691),s=this.gg(s,i,n,o,t[r+10],9,38016083),o=this.gg(o,s,i,n,t[r+15],14,-660478335),n=this.gg(n,o,s,i,t[r+4],20,-405537848),i=this.gg(i,n,o,s,t[r+9],5,568446438),s=this.gg(s,i,n,o,t[r+14],9,-1019803690),o=this.gg(o,s,i,n,t[r+3],14,-187363961),n=this.gg(n,o,s,i,t[r+8],20,1163531501),i=this.gg(i,n,o,s,t[r+13],5,-1444681467),s=this.gg(s,i,n,o,t[r+2],9,-51403784),o=this.gg(o,s,i,n,t[r+7],14,1735328473),n=this.gg(n,o,s,i,t[r+12],20,-1926607734),i=this.hh(i,n,o,s,t[r+5],4,-378558),s=this.hh(s,i,n,o,t[r+8],11,-2022574463),o=this.hh(o,s,i,n,t[r+11],16,1839030562),n=this.hh(n,o,s,i,t[r+14],23,-35309556),i=this.hh(i,n,o,s,t[r+1],4,-1530992060),s=this.hh(s,i,n,o,t[r+4],11,1272893353),o=this.hh(o,s,i,n,t[r+7],16,-155497632),n=this.hh(n,o,s,i,t[r+10],23,-1094730640),i=this.hh(i,n,o,s,t[r+13],4,681279174),s=this.hh(s,i,n,o,t[r],11,-358537222),o=this.hh(o,s,i,n,t[r+3],16,-722521979),n=this.hh(n,o,s,i,t[r+6],23,76029189),i=this.hh(i,n,o,s,t[r+9],4,-640364487),s=this.hh(s,i,n,o,t[r+12],11,-421815835),o=this.hh(o,s,i,n,t[r+15],16,530742520),n=this.hh(n,o,s,i,t[r+2],23,-995338651),i=this.ii(i,n,o,s,t[r],6,-198630844),s=this.ii(s,i,n,o,t[r+7],10,1126891415),o=this.ii(o,s,i,n,t[r+14],15,-1416354905),n=this.ii(n,o,s,i,t[r+5],21,-57434055),i=this.ii(i,n,o,s,t[r+12],6,1700485571),s=this.ii(s,i,n,o,t[r+3],10,-1894986606),o=this.ii(o,s,i,n,t[r+10],15,-1051523),n=this.ii(n,o,s,i,t[r+1],21,-2054922799),i=this.ii(i,n,o,s,t[r+8],6,1873313359),s=this.ii(s,i,n,o,t[r+15],10,-30611744),o=this.ii(o,s,i,n,t[r+6],15,-1560198380),n=this.ii(n,o,s,i,t[r+13],21,1309151649),i=this.ii(i,n,o,s,t[r+4],6,-145523070),s=this.ii(s,i,n,o,t[r+11],10,-1120210379),o=this.ii(o,s,i,n,t[r+2],15,718787259),n=this.ii(n,o,s,i,t[r+9],21,-343485551),i=this.addme(i,a),n=this.addme(n,l),o=this.addme(o,c),s=this.addme(s,d),r+=16}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(s)},ii:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(i,this.bitOR(t,~n)),e,t,o,s,r)},hh:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(this.bitXOR(t,i),n),e,t,o,s,r)},gg:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(i,~n)),e,t,o,s,r)},ff:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(~t,n)),e,t,o,s,r)},cmn:function(e,t,i,n,o,s){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(n,s)),o),i)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){for(var t=1+(e.length+8>>6),i=new Array,n=0,o=16*t;n<o;){i[s=n++]=0}for(var s=0;s<e.length;)i[s>>2]|=HxOverrides.cca(e,s)<<(8*e.length+s)%4*8,s++;i[s>>2]|=128<<(8*e.length+s)%4*8;var r=8*e.length,a=16*t-2;return i[a]=255&r,i[a]|=(r>>>8&255)<<8,i[a]|=(r>>>16&255)<<16,i[a]|=(r>>>24&255)<<24,i},rhex:function(e){for(var t="",i=0;i<4;){var n=i++;t+="0123456789abcdef".charAt(e>>8*n+4&15)+"0123456789abcdef".charAt(e>>8*n&15)}return t},addme:function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},bitAND:function(e,t){return(e>>>1&t>>>1)<<1|1&e&t},bitXOR:function(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t},bitOR:function(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)},__class__:haxe.Md5},haxe.Timer=function(e){var t=this;this.id=window.setInterval(function(){t.run()},e)},haxe.Timer.__name__=!0,haxe.Timer.delay=function(e,t){var i=new haxe.Timer(t);return i.run=function(){i.stop(),e()},i},haxe.Timer.measure=function(e,t){var i=haxe.Timer.stamp(),n=e();return haxe.Log.trace(haxe.Timer.stamp()-i+"s",t),n},haxe.Timer.stamp=function(){return(new Date).getTime()/1e3},haxe.Timer.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},__class__:haxe.Timer};var js=js||{},$_;function $bind(e,t){var i=function(){return i.method.apply(i.scope,arguments)};return i.scope=e,i.method=t,i}js.Boot=function(){},js.Boot.__name__=!0,js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(e,t){var i,n=null!=t?t.fileName+":"+t.lineNumber+": ":"";n+=js.Boot.__string_rec(e,""),"undefined"!=typeof document&&null!=(i=document.getElementById("haxe:trace"))?i.innerHTML+=js.Boot.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");null!=e&&(e.innerHTML="")},js.Boot.isClass=function(e){return e.__name__},js.Boot.isEnum=function(e){return e.__ename__},js.Boot.getClass=function(e){return e.__class__},js.Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var i=typeof e;switch("function"==i&&(e.__name__||e.__ename__)&&(i="object"),i){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var n=e[0]+"(";t+="\t";for(var o=2,s=e.length;o<s;){n+=2!=(r=o++)?","+js.Boot.__string_rec(e[r],t):js.Boot.__string_rec(e[r],t)}return n+")"}var r,a=e.length;n="[";t+="\t";for(s=0;s<a;){var l=s++;n+=(l>0?",":"")+js.Boot.__string_rec(e[l],t)}return n+="]"}var c;try{c=e.toString}catch(e){return"???"}if(null!=c&&c!=Object.toString){var d=e.toString();if("[object Object]"!=d)return d}var h=null;n="{\n";t+="\t";var m=null!=e.hasOwnProperty;for(var h in e)m&&!e.hasOwnProperty(h)||"prototype"!=h&&"__class__"!=h&&"__super__"!=h&&"__interfaces__"!=h&&"__properties__"!=h&&(2!=n.length&&(n+=", \n"),n+=t+h+" : "+js.Boot.__string_rec(e[h],t));return n+="\n"+(t=t.substring(1))+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},js.Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var i=e.__interfaces__;if(null!=i)for(var n=0,o=i.length;n<o;){var s=i[n++];if(s==t||js.Boot.__interfLoop(s,t))return!0}return js.Boot.__interfLoop(e.__super__,t)},js.Boot.__instanceof=function(e,t){try{if(e instanceof t)return t!=Array||null==e.__enum__;if(js.Boot.__interfLoop(e.__class__,t))return!0}catch(e){if(null==t)return!1}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return"number"==typeof e;case Bool:return!0===e||!1===e;case String:return"string"==typeof e;case Dynamic:return!0;default:return null!=e&&(t==Class&&null!=e.__name__||(t==Enum&&null!=e.__ename__||e.__enum__==t))}},js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;throw"Cannot cast "+Std.string(e)+" to "+Std.string(t)},js.Lib=function(){},js.Lib.__name__=!0,js.Lib.debug=function(){},js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(e){js.Lib.onerror=e},Array.prototype.indexOf&&(HxOverrides.remove=function(e,t){var i=e.indexOf(t);return-1!=i&&(e.splice(i,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(e){return isFinite(e)},Math.isNaN=function(e){return isNaN(e)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=["Date"];var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={},Void={__ename__:["Void"]};"undefined"!=typeof document&&(js.Lib.document=document),"undefined"!=typeof window&&(js.Lib.window=window,js.Lib.window.onerror=function(e,t,i){var n=js.Lib.onerror;return null!=n&&n(e,[t+":"+i])}),com.wiris.js.JsPluginTools.main(),delete Array.prototype.__class__}(),function(){var HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.dateStr=function(e){var t=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)},HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(t[0]),i.setUTCMinutes(t[1]),i.setUTCSeconds(t[2]),i;case 10:t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var n=(t=e.split(" "))[0].split("-"),o=t[1].split(":");return new Date(n[0],n[1]-1,n[2],o[0],o[1],o[2]);default:throw"Invalid date format : "+e}},HxOverrides.cca=function(e,t){var i=e.charCodeAt(t);if(i==i)return i},HxOverrides.substr=function(e,t,i){return null!=t&&0!=t&&null!=i&&i<0?"":(null==i&&(i=e.length),t<0?(t=e.length+t)<0&&(t=0):i<0&&(i=e.length+i-t),e.substr(t,i))},HxOverrides.remove=function(e,t){for(var i=0,n=e.length;i<n;){if(e[i]==t)return e.splice(i,1),!0;i++}return!1},HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e,this.max=t};IntIter.__name__=!0,IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=!0,Std.is=function(e,t){return js.Boot.__instanceof(e,t)},Std.string=function(e){return js.Boot.__string_rec(e,"")},Std.int=function(e){return 0|e},Std.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=HxOverrides.cca(e,1)&&88!=HxOverrides.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},Std.parseFloat=function(e){return parseFloat(e)},Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};com.wiris||(com.wiris={}),com.wiris.js||(com.wiris.js={}),com.wiris.js.JsPluginTools=function(){this.tryReady()},com.wiris.js.JsPluginTools.__name__=!0,com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance(),haxe.Timer.delay($bind(e,e.tryReady),100)},com.wiris.js.JsPluginTools.getInstance=function(){return null==com.wiris.js.JsPluginTools.instance&&(com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools),com.wiris.js.JsPluginTools.instance},com.wiris.js.JsPluginTools.bypassEncapsulation=function(){null==window.com&&(window.com={}),null==window.com.wiris&&(window.com.wiris={}),null==window.com.wiris.js&&(window.com.wiris.js={}),null==window.com.wiris.js.JsPluginTools&&(window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance())},com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=!0,com.wiris.js.JsPluginTools.instance=this,com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=!1,js.Lib.document.readyState&&(this.doLoad(),this.ready=!0),this.ready||haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){},haxe.Log.__name__=!0,haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Md5=function(){},haxe.Md5.__name__=!0,haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)},haxe.Md5.prototype={doEncode:function(e){for(var t=this.str2blks(e),i=1732584193,n=-271733879,o=-1732584194,s=271733878,r=0;r<t.length;){var a=i,l=n,c=o,d=s;0,i=this.ff(i,n,o,s,t[r],7,-680876936),s=this.ff(s,i,n,o,t[r+1],12,-389564586),o=this.ff(o,s,i,n,t[r+2],17,606105819),n=this.ff(n,o,s,i,t[r+3],22,-1044525330),i=this.ff(i,n,o,s,t[r+4],7,-176418897),s=this.ff(s,i,n,o,t[r+5],12,1200080426),o=this.ff(o,s,i,n,t[r+6],17,-1473231341),n=this.ff(n,o,s,i,t[r+7],22,-45705983),i=this.ff(i,n,o,s,t[r+8],7,1770035416),s=this.ff(s,i,n,o,t[r+9],12,-1958414417),o=this.ff(o,s,i,n,t[r+10],17,-42063),n=this.ff(n,o,s,i,t[r+11],22,-1990404162),i=this.ff(i,n,o,s,t[r+12],7,1804603682),s=this.ff(s,i,n,o,t[r+13],12,-40341101),o=this.ff(o,s,i,n,t[r+14],17,-1502002290),n=this.ff(n,o,s,i,t[r+15],22,1236535329),i=this.gg(i,n,o,s,t[r+1],5,-165796510),s=this.gg(s,i,n,o,t[r+6],9,-1069501632),o=this.gg(o,s,i,n,t[r+11],14,643717713),n=this.gg(n,o,s,i,t[r],20,-373897302),i=this.gg(i,n,o,s,t[r+5],5,-701558691),s=this.gg(s,i,n,o,t[r+10],9,38016083),o=this.gg(o,s,i,n,t[r+15],14,-660478335),n=this.gg(n,o,s,i,t[r+4],20,-405537848),i=this.gg(i,n,o,s,t[r+9],5,568446438),s=this.gg(s,i,n,o,t[r+14],9,-1019803690),o=this.gg(o,s,i,n,t[r+3],14,-187363961),n=this.gg(n,o,s,i,t[r+8],20,1163531501),i=this.gg(i,n,o,s,t[r+13],5,-1444681467),s=this.gg(s,i,n,o,t[r+2],9,-51403784),o=this.gg(o,s,i,n,t[r+7],14,1735328473),n=this.gg(n,o,s,i,t[r+12],20,-1926607734),i=this.hh(i,n,o,s,t[r+5],4,-378558),s=this.hh(s,i,n,o,t[r+8],11,-2022574463),o=this.hh(o,s,i,n,t[r+11],16,1839030562),n=this.hh(n,o,s,i,t[r+14],23,-35309556),i=this.hh(i,n,o,s,t[r+1],4,-1530992060),s=this.hh(s,i,n,o,t[r+4],11,1272893353),o=this.hh(o,s,i,n,t[r+7],16,-155497632),n=this.hh(n,o,s,i,t[r+10],23,-1094730640),i=this.hh(i,n,o,s,t[r+13],4,681279174),s=this.hh(s,i,n,o,t[r],11,-358537222),o=this.hh(o,s,i,n,t[r+3],16,-722521979),n=this.hh(n,o,s,i,t[r+6],23,76029189),i=this.hh(i,n,o,s,t[r+9],4,-640364487),s=this.hh(s,i,n,o,t[r+12],11,-421815835),o=this.hh(o,s,i,n,t[r+15],16,530742520),n=this.hh(n,o,s,i,t[r+2],23,-995338651),i=this.ii(i,n,o,s,t[r],6,-198630844),s=this.ii(s,i,n,o,t[r+7],10,1126891415),o=this.ii(o,s,i,n,t[r+14],15,-1416354905),n=this.ii(n,o,s,i,t[r+5],21,-57434055),i=this.ii(i,n,o,s,t[r+12],6,1700485571),s=this.ii(s,i,n,o,t[r+3],10,-1894986606),o=this.ii(o,s,i,n,t[r+10],15,-1051523),n=this.ii(n,o,s,i,t[r+1],21,-2054922799),i=this.ii(i,n,o,s,t[r+8],6,1873313359),s=this.ii(s,i,n,o,t[r+15],10,-30611744),o=this.ii(o,s,i,n,t[r+6],15,-1560198380),n=this.ii(n,o,s,i,t[r+13],21,1309151649),i=this.ii(i,n,o,s,t[r+4],6,-145523070),s=this.ii(s,i,n,o,t[r+11],10,-1120210379),o=this.ii(o,s,i,n,t[r+2],15,718787259),n=this.ii(n,o,s,i,t[r+9],21,-343485551),i=this.addme(i,a),n=this.addme(n,l),o=this.addme(o,c),s=this.addme(s,d),r+=16}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(s)},ii:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(i,this.bitOR(t,~n)),e,t,o,s,r)},hh:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(this.bitXOR(t,i),n),e,t,o,s,r)},gg:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(i,~n)),e,t,o,s,r)},ff:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(~t,n)),e,t,o,s,r)},cmn:function(e,t,i,n,o,s){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(n,s)),o),i)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){for(var t=1+(e.length+8>>6),i=new Array,n=0,o=16*t;n<o;){i[s=n++]=0}for(var s=0;s<e.length;)i[s>>2]|=HxOverrides.cca(e,s)<<(8*e.length+s)%4*8,s++;i[s>>2]|=128<<(8*e.length+s)%4*8;var r=8*e.length,a=16*t-2;return i[a]=255&r,i[a]|=(r>>>8&255)<<8,i[a]|=(r>>>16&255)<<16,i[a]|=(r>>>24&255)<<24,i},rhex:function(e){for(var t="",i=0;i<4;){var n=i++;t+="0123456789abcdef".charAt(e>>8*n+4&15)+"0123456789abcdef".charAt(e>>8*n&15)}return t},addme:function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},bitAND:function(e,t){return(e>>>1&t>>>1)<<1|1&e&t},bitXOR:function(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t},bitOR:function(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)},__class__:haxe.Md5},haxe.Timer=function(e){var t=this;this.id=window.setInterval(function(){t.run()},e)},haxe.Timer.__name__=!0,haxe.Timer.delay=function(e,t){var i=new haxe.Timer(t);return i.run=function(){i.stop(),e()},i},haxe.Timer.measure=function(e,t){var i=haxe.Timer.stamp(),n=e();return haxe.Log.trace(haxe.Timer.stamp()-i+"s",t),n},haxe.Timer.stamp=function(){return(new Date).getTime()/1e3},haxe.Timer.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},__class__:haxe.Timer};var js=js||{},$_;function $bind(e,t){var i=function(){return i.method.apply(i.scope,arguments)};return i.scope=e,i.method=t,i}js.Boot=function(){},js.Boot.__name__=!0,js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(e,t){var i,n=null!=t?t.fileName+":"+t.lineNumber+": ":"";n+=js.Boot.__string_rec(e,""),"undefined"!=typeof document&&null!=(i=document.getElementById("haxe:trace"))?i.innerHTML+=js.Boot.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");null!=e&&(e.innerHTML="")},js.Boot.isClass=function(e){return e.__name__},js.Boot.isEnum=function(e){return e.__ename__},js.Boot.getClass=function(e){return e.__class__},js.Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var i=typeof e;switch("function"==i&&(e.__name__||e.__ename__)&&(i="object"),i){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var n=e[0]+"(";t+="\t";for(var o=2,s=e.length;o<s;){n+=2!=(r=o++)?","+js.Boot.__string_rec(e[r],t):js.Boot.__string_rec(e[r],t)}return n+")"}var r,a=e.length;n="[";t+="\t";for(s=0;s<a;){var l=s++;n+=(l>0?",":"")+js.Boot.__string_rec(e[l],t)}return n+="]"}var c;try{c=e.toString}catch(e){return"???"}if(null!=c&&c!=Object.toString){var d=e.toString();if("[object Object]"!=d)return d}var h=null;n="{\n";t+="\t";var m=null!=e.hasOwnProperty;for(var h in e)m&&!e.hasOwnProperty(h)||"prototype"!=h&&"__class__"!=h&&"__super__"!=h&&"__interfaces__"!=h&&"__properties__"!=h&&(2!=n.length&&(n+=", \n"),n+=t+h+" : "+js.Boot.__string_rec(e[h],t));return n+="\n"+(t=t.substring(1))+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},js.Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var i=e.__interfaces__;if(null!=i)for(var n=0,o=i.length;n<o;){var s=i[n++];if(s==t||js.Boot.__interfLoop(s,t))return!0}return js.Boot.__interfLoop(e.__super__,t)},js.Boot.__instanceof=function(e,t){try{if(e instanceof t)return t!=Array||null==e.__enum__;if(js.Boot.__interfLoop(e.__class__,t))return!0}catch(e){if(null==t)return!1}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return"number"==typeof e;case Bool:return!0===e||!1===e;case String:return"string"==typeof e;case Dynamic:return!0;default:return null!=e&&(t==Class&&null!=e.__name__||(t==Enum&&null!=e.__ename__||e.__enum__==t))}},js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;throw"Cannot cast "+Std.string(e)+" to "+Std.string(t)},js.Lib=function(){},js.Lib.__name__=!0,js.Lib.debug=function(){},js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(e){js.Lib.onerror=e},Array.prototype.indexOf&&(HxOverrides.remove=function(e,t){var i=e.indexOf(t);return-1!=i&&(e.splice(i,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(e){return isFinite(e)},Math.isNaN=function(e){return isNaN(e)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=["Date"];var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={},Void={__ename__:["Void"]};"undefined"!=typeof document&&(js.Lib.document=document),"undefined"!=typeof window&&(js.Lib.window=window,js.Lib.window.onerror=function(e,t,i){var n=js.Lib.onerror;return null!=n&&n(e,[t+":"+i])}),com.wiris.js.JsPluginTools.main()}(),delete Array.prototype.__class__},function(e,t,i){var n=i(3);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(5)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(4)(!1)).push([e.i,".wrs_modal_overlay{position:fixed;font-family:arial,sans-serif;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.8);z-index:999998;opacity:.65;pointer-events:auto}.wrs_modal_overlay.wrs_modal_android,.wrs_modal_overlay.wrs_modal_ios{visibility:hidden;display:none}.wrs_modal_overlay.wrs_modal_ios.moodle{position:fixed}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack{background:transparent;display:none}.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized{background:rgba(0,0,0,.8)}.wrs_modal_overlay.wrs_modal_desktop.wrs_closed,.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized{background:transparent;display:none}.wrs_modal_title{color:#fff;padding:5px 0 5px 10px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-align:left}.wrs_modal_close_button{float:right;cursor:pointer;color:#fff;padding:5px 10px 5px 0;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAABvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4J/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749Rgs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5ZA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLYJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7JkkS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpFaA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIAAAAASUVORK5CYII=);background-size:10px;margin:10px 7px 0 0;background-repeat:no-repeat}.wrs_modal_close_button:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtEQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0XawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbzFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT96VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0GkoNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0Jryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4ARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==)}.wrs_modal_minimize_button{float:right;cursor:pointer;color:#fff;padding:5px 10px 5px 0;top:inherit;margin:10px 7px 0 0;background-size:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0koGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rOvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJRU5ErkJggg==);background-repeat:no-repeat}.wrs_modal_minimize_button:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAApklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIKvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1BoCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26b1V6LAAAAABJRU5ErkJggg==)}.wrs_modal_minimize_button.wrs_minimized{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6V9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqROEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=)}.wrs_modal_minimize_button.wrs_minimized:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+yT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBBfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+X1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC)}.wrs_modal_stack_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhOUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+cwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64g26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQiWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYuCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZNEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAqwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=);background-size:10px}.wrs_modal_stack_button.wrs_minimized,.wrs_modal_stack_button.wrs_stack{visibility:hidden;margin:0;padding:0}.wrs_modal_stack_button:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4kT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeqrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqCN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmcuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyTIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXDbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=)}.wrs_modal_maximize_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQfSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7ns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4tKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1eoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYLCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y54+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Yg2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==);background-size:10px;background-repeat:no-repeat}.wrs_modal_maximize_button.wrs_maximized{visibility:hidden;margin:0;padding:0}.wrs_modal_maximize_button:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0lPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOyvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6sFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcFmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmgpMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=)}.wrs_modal_wrapper{display:block}.wrs_modal_title_bar{display:block;background-color:#778e9a}.wrs_modal_dialogContainer{border:none;background:#fafafa;z-index:999999}.wrs_modal_dialogContainer.wrs_modal_desktop{font-size:14px}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized{position:fixed}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized{position:fixed;top:inherit;margin:0 10px 0 0}.wrs_modal_dialogContainer.wrs_closed{visibility:hidden;display:none;opacity:0}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack{position:fixed;bottom:0;right:0;box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_drag,.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag{box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_modal_android{width:99%;height:99%}.wrs_modal_dialogContainer.wrs_modal_android,.wrs_modal_dialogContainer.wrs_modal_ios{margin:auto;overflow:hidden;transform:translate(50%,-50%);top:50%;right:50%!important;position:fixed}.wrs_modal_dialogContainer.wrs_modal_ios{width:100%;height:100%}.wrs_content_container.wrs_minimized{display:none}.wrs_content_container.wrs_modal_android{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_content_container.wrs_modal_android>div:first-child,.wrs_content_container.wrs_modal_desktop>div:first-child,.wrs_content_container.wrs_modal_ios>div:first-child{flex-grow:1}.wrs_modal_wrapper.wrs_modal_android{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_content_container.wrs_modal_desktop,.wrs_content_container.wrs_modal_ios{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_ios{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_virtual_keyboard{height:100%;width:100%;top:0;left:50%;transform:translate(-50%)}@media (orientation:portrait){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}@media (orientation:landscape){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}.wrs_modal_dialogContainer.wrs_modal_badStock,.wrs_modal_wrapper.wrs_modal_badStock{width:100%;height:280px;margin:0 auto;border-width:0}.wrs_noselect{-khtml-user-select:none}.wrs_bottom_right_resizer,.wrs_noselect{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_bottom_right_resizer{width:10px;height:10px;color:#778e9a;position:absolute;right:4px;bottom:8px;cursor:se-resize}.wrs_bottom_left_resizer{width:15px;height:15px;color:#778e9a;position:absolute;left:0;top:0;cursor:se-resize}.wrs_modal_controls{height:42px;margin:3px 0;overflow:hidden;line-height:normal}.wrs_modal_links{margin:10px auto 0;font-family:arial,sans-serif;padding:6px;display:inline;float:right;text-align:right}.wrs_modal_links>a{text-decoration:none;color:#778e9a;font-size:16px}.wrs_modal_button_cancel,.wrs_modal_button_cancel:active,.wrs_modal_button_cancel:focus,.wrs_modal_button_cancel:hover,.wrs_modal_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;height:32px}.wrs_modal_button_accept,.wrs_modal_button_accept:active,.wrs_modal_button_accept:focus,.wrs_modal_button_accept:hover,.wrs_modal_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor_vertical_bar{height:20px;float:right;background:none;width:20px;cursor:pointer}.wrs_modal_buttons_container{display:inline;float:left}.wrs_modal_buttons_container.wrs_modalAndroid{padding-left:6px}.wrs_modal_buttons_container.wrs_modalDesktop{padding-left:0}.wrs_modal_buttons_container>button{line-height:normal;background-image:none}.wrs_modal_wrapper{margin:6px;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized{display:none}@media only screen and (max-device-width:480px) and (orientation:portrait){#wrs_modal_wrapper{width:140%}}.wrs_popupmessage_overlay_envolture{display:none;width:100%}.wrs_popupmessage_overlay{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:4;cursor:pointer}.wrs_popupmessage_panel{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;background:#fff;max-width:500px;width:75%;border-radius:2px;padding:20px;font-family:sans-serif;font-size:15px;text-align:left;color:#2e2e2e;z-index:5;max-height:75%;overflow:auto}.wrs_popupmessage_button_area{margin:10px 0 0}.wrs_panelContainer *{border:0}.wrs_button_cancel,.wrs_button_cancel:active,.wrs_button_cancel:focus,.wrs_button_cancel:hover,.wrs_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;background-image:none;height:32px}.wrs_button_accept,.wrs_button_accept:active,.wrs_button_accept:focus,.wrs_button_accept:hover,.wrs_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor button{box-shadow:none}.wrs_editor .wrs_header button{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active{display:block}.wrs_toolbar tr:focus,.wrs_toolbar tr:hover{background:none}.wrs_modal_rtl .wrs_modal_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_modal_button_accept{margin-right:0;margin-left:5px}.wrs_modal_rtl .wrs_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_button_accept{margin-right:0;margin-left:5px}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),s=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(s).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(n[s]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),s=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),r=null,a=0,l=[],c=i(6);function d(e,t){for(var i=0;i<e.length;i++){var o=e[i],s=n[o.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](o.parts[r]);for(;r<o.parts.length;r++)s.parts.push(_(o.parts[r],t))}else{var a=[];for(r=0;r<o.parts.length;r++)a.push(_(o.parts[r],t));n[o.id]={id:o.id,refs:1,parts:a}}}}function h(e,t){for(var i=[],n={},o=0;o<e.length;o++){var s=e[o],r=t.base?s[0]+t.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(e,t){var i=s(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),l.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,i);i.insertBefore(t,o)}}function u(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return p(t,e.attrs),m(e,t),t}function p(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function _(e,t){var i,n,o,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var l=a++;i=r||(r=g(t)),n=b.bind(null,i,l,!1),o=b.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",p(t,e.attrs),m(e,t),t}(t),n=function(e,t,i){var n=i.css,o=i.sourceMap,s=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||s)&&(n=c(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,t),o=function(){u(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),n=function(e,t){var i=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){u(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=h(e,t);return d(i,t),function(e){for(var o=[],s=0;s<i.length;s++){var r=i[s];(a=n[r.id]).refs--,o.push(a)}e&&d(h(e,t),t);for(s=0;s<o.length;s++){var a;if(0===(a=o[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete n[a.id]}}}};var f=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function b(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var s=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,i){"use strict";i.r(t);class n{static get safeXmlCharactersEntities(){return{tagOpener:"&laquo;",tagCloser:"&raquo;",doubleQuote:"&uml;",realDoubleQuote:"&quot;"}}static get safeBadBlackboardCharacters(){return{ltElement:"«mo»<«/mo»",gtElement:"«mo»>«/mo»",ampElement:"«mo»&«/mo»"}}static get safeGoodBlackboardCharacters(){return{ltElement:"«mo»§lt;«/mo»",gtElement:"«mo»§gt;«/mo»",ampElement:"«mo»§amp;«/mo»"}}static get xmlCharacters(){return{id:"xmlCharacters",tagOpener:"<",tagCloser:">",doubleQuote:'"',ampersand:"&",quote:"'"}}static get safeXmlCharacters(){return{id:"safeXmlCharacters",tagOpener:"«",tagCloser:"»",doubleQuote:"¨",ampersand:"§",quote:"`",realDoubleQuote:"¨"}}}class o{static isMathmlInAttribute(e,t){const i=new RegExp("^['\"][\\s]*=[\\s]*[\\w-]+('[\\s]*(\"[^\"]*\"|'[^']*')[\\s]*=[\\s]*[\\w-]+[\\s]*')*[\\s]+gmi<"),n=e.substring(0,t).split("").reverse().join("");return i.test(n)}static safeXmlDecode(e){let{tagOpener:t}=n.safeXmlCharactersEntities,{tagCloser:i}=n.safeXmlCharactersEntities,{doubleQuote:o}=n.safeXmlCharactersEntities,{realDoubleQuote:s}=n.safeXmlCharactersEntities;e=(e=(e=(e=e.split(t).join(n.safeXmlCharacters.tagOpener)).split(i).join(n.safeXmlCharacters.tagCloser)).split(o).join(n.safeXmlCharacters.doubleQuote)).split(s).join(n.safeXmlCharacters.realDoubleQuote);const{ltElement:r}=n.safeBadBlackboardCharacters,{gtElement:a}=n.safeBadBlackboardCharacters,{ampElement:l}=n.safeBadBlackboardCharacters;"_wrs_blackboard"in window&&window._wrs_blackboard&&(e=(e=(e=e.split(r).join(n.safeGoodBlackboardCharacters.ltElement)).split(a).join(n.safeGoodBlackboardCharacters.gtElement)).split(l).join(n.safeGoodBlackboardCharacters.ampElement)),({tagOpener:t}=n.safeXmlCharacters),({tagCloser:i}=n.safeXmlCharacters),({doubleQuote:o}=n.safeXmlCharacters),({realDoubleQuote:s}=n.safeXmlCharacters);const{ampersand:c}=n.safeXmlCharacters,{quote:d}=n.safeXmlCharacters;e=(e=(e=(e=(e=e.split(t).join(n.xmlCharacters.tagOpener)).split(i).join(n.xmlCharacters.tagCloser)).split(o).join(n.xmlCharacters.doubleQuote)).split(c).join(n.xmlCharacters.ampersand)).split(d).join(n.xmlCharacters.quote);let h="",m=null;for(let t=0;t<e.length;t+=1){const i=e.charAt(t);null==m?"$"===i?m="":h+=i:";"===i?(h+=`&${m}`,m=null):i.match(/([a-zA-Z0-9#._-] | '-')/)?m+=i:(h+=`$${m}`,m=null,t-=1)}return h}static safeXmlEncode(e){const{tagOpener:t}=n.xmlCharacters,{tagCloser:i}=n.xmlCharacters,{doubleQuote:o}=n.xmlCharacters,{ampersand:s}=n.xmlCharacters,{quote:r}=n.xmlCharacters;return e=(e=(e=(e=(e=e.split(t).join(n.safeXmlCharacters.tagOpener)).split(i).join(n.safeXmlCharacters.tagCloser)).split(o).join(n.safeXmlCharacters.doubleQuote)).split(s).join(n.safeXmlCharacters.ampersand)).split(r).join(n.safeXmlCharacters.quote)}static mathMLEntities(e){let t="";for(let i=0;i<e.length;i+=1){const n=e.charAt(i);if(e.codePointAt(i)>128)t+=`&#${e.codePointAt(i)};`,e.codePointAt(i)>65535&&(i+=1);else if("&"===n){const o=e.indexOf(";",i+1);if(o>=0){const n=document.createElement("span");n.innerHTML=e.substring(i,o+1),t+=`&#${m.fixedCharCodeAt(n.textContent||n.innerText,0)};`,i=o}else t+=n}else t+=n}return t}static addCustomEditorClassAttribute(e,t){let i="";const n=e.indexOf("<math");if(0===n){const o=e.indexOf(">");if(-1===e.indexOf("class"))return i=`${e.substr(n,o)} class="wrs_${t}">`,i+=e.substr(o+1,e.length)}return e}static removeCustomEditorClassAttribute(e,t){return-1===e.indexOf("class")||-1===e.indexOf(`wrs_${t}`)?e:-1!==e.indexOf(`class="wrs_${t}"`)?e.replace(`class="wrs_${t}"`,""):e.replace(`wrs_${t}`,"")}static addAnnotation(e,t,i){let n="";if(-1!==e.indexOf("<annotation")){const o=e.indexOf("</semantics>");n=`${e.substring(0,o)}<annotation encoding="${i}">${t}</annotation>${e.substring(o)}`}else if(o.isEmpty(e)){const o=e.indexOf("/>"),s=e.indexOf(">"),r=s===o?o:s;n=`${e.substring(0,r)}><semantics><annotation encoding="${i}">${t}</annotation></semantics></math>`}else{const o=e.indexOf(">")+1,s=e.lastIndexOf("</math>"),r=e.substring(o,s);n=`${e.substring(0,o)}<semantics>${r}<annotation encoding="${i}">${t}</annotation></semantics></math>`}return n}static removeAnnotation(e,t){let i=e;const n=`<annotation encoding="${t}">`,s=e.indexOf(n);if(-1!==s){let t=!1,n=e.indexOf("<annotation");for(;-1!==n;)n!==s&&(t=!0),n=e.indexOf("<annotation",n+1);if(t){const t=e.indexOf("</annotation>",s)+"</annotation>".length;i=e.substring(0,s)+e.substring(t)}else i=o.removeSemantics(e)}return i}static removeSemantics(e){let t=e;const i=e.indexOf("<semantics>");if(-1!==i){const n=e.indexOf("<annotation",i+"<semantics>".length);-1!==n&&(t=e.substring(0,i)+e.substring(i+"<semantics>".length,n)+"</math>")}return t}static removeSemanticsOcurrences(e,t=n.xmlCharacters){const i=`${t.tagOpener}math`,o=`${t.tagOpener}/math${t.tagCloser}`,s=`/${t.tagCloser}`,{tagCloser:r}=t,a=`${t.tagOpener}semantics${t.tagCloser}`,l=`${t.tagOpener}annotation encoding=`;let c="",d=e.indexOf(i),h=0;for(;-1!==d;){c+=e.substring(h,d);const t=e.indexOf(o,d),n=e.indexOf(s,d),m=e.indexOf(r,d);-1!==t?h=t:n===m-1&&(h=n);const u=e.indexOf(a,d);if(-1!==u){const t=e.substring(d,u),n=e.indexOf(l,d);if(-1!==n){const s=u+a.length;c+=t+e.substring(s,n)+o,d=e.indexOf(i,d+i.length),h+=o.length}else h=d,d=e.indexOf(i,d+i.length)}else h=d,d=e.indexOf(i,d+i.length)}return c+=e.substring(h,e.length)}static containClass(e,t){const i=e.indexOf("class");if(-1===i)return!1;const n=e.indexOf(">",i);return-1!==e.substring(i,n).indexOf(t)}static isEmpty(e){const t=e.indexOf(">"),i=e.indexOf("/>");let n=!1;if(-1!==i&&i===t-1&&(n=!0),!n){const i=new RegExp("</(.+:)?math>").exec(e);i&&(n=t+1===i.index)}return n}}class s{static addConfiguration(e){Object.assign(s.properties,e)}static get properties(){return s._properties}static set properties(e){s._properties=e}static get(e){return Object.prototype.hasOwnProperty.call(s.properties,e)?s.properties[e]:!!Object.prototype.hasOwnProperty.call(s.properties,"_wrs_conf_")&&s.properties[`_wrs_conf_${e}`]}static set(e,t){s.properties[e]=t}static update(e,t){if(s.get(e)){const i=Object.assign(s.get(e),t);s.set(e,i)}else s.set(e,t)}}s._properties={};class r{constructor(){this.cache=[]}populate(e,t){this.cache[e]=t}get(e){return!!Object.prototype.hasOwnProperty.call(this.cache,e)&&this.cache[e]}}class a{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}fire(e,t){for(let i=0;i<this.listeners.length&&!t.cancelled;i+=1)this.listeners[i].eventName===e&&this.listeners[i].callback(t);return t.defaultPrevented}static newListener(e,t){const i={};return i.eventName=e,i.callback=t,i}}class l{static get listeners(){return l._listeners}static addListener(e){l.listeners.add(e)}static fireEvent(e,t){l.listeners.fire(e,t)}static get parameters(){return l._parameters}static set parameters(e){l._parameters=e}static get servicePaths(){return l._servicePaths}static set servicePaths(e){l._servicePaths=e}static setServicePath(e,t){l.servicePaths[e]=t}static getServicePath(e){return l.servicePaths[e]}static get integrationPath(){return l._integrationPath}static set integrationPath(e){l._integrationPath=e}static getServerURL(){const e=window.location.href.split("/");return`${e[0]}//${e[2]}`}static init(e){l.parameters=e;let t=l.createServiceURI("configurationjs"),i=l.createServiceURI("createimage"),n=l.createServiceURI("showimage"),o=l.createServiceURI("getmathml"),s=l.createServiceURI("service");if(0===l.parameters.URI.indexOf("/")){const e=l.getServerURL();t=e+t,n=e+n,i=e+i,o=e+o,s=e+s}l.setServicePath("configurationjs",t),l.setServicePath("showimage",n),l.setServicePath("createimage",i),l.setServicePath("service",s),l.setServicePath("getmathml",o),l.setServicePath("configurationjs",t),l.listeners.fire("onInit",{})}static getUrl(e,t){const i=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1),n=m.createHttpRequest();return n?(void 0===t||void 0===t?n.open("GET",e,!1):"/"===e.substr(0,1)||"http://"===e.substr(0,7)||"https://"===e.substr(0,8)?n.open("POST",e,!1):n.open("POST",i+e,!1),void 0!==t?(n.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(m.httpBuildQuery(t))):n.send(null),n.responseText):""}static getService(e,t,i){let n;if(!0===i){const i=`${l.getServicePath(e)}?${t}`;n=l.getUrl(i)}else{const i=l.getServicePath(e);n=l.getUrl(i,t)}return n}static getServerLanguageFromService(e){return-1!==e.indexOf(".php")?"php":-1!==e.indexOf(".aspx")?"aspx":-1!==e.indexOf("wirispluginengine")?"ruby":"java"}static createServiceURI(e){const t=l.serverExtension();return m.concatenateUrl(l.parameters.URI,e)+t}static serverExtension(){return-1!==l.parameters.server.indexOf("php")?".php":-1!==l.parameters.server.indexOf("aspx")?".aspx":""}}l._servicePaths={},l._integrationPath="",l._listeners=new a,l._parameters={};class c{static get cache(){return c._cache}static set cache(e){c._cache=e}static getLatexFromMathML(e){const t=o.removeSemantics(e),{cache:i}=c,n={service:"mathml2latex",mml:t},s=JSON.parse(l.getService("service",n));let r="";if("ok"===s.status){r=s.result.text;const t=m.htmlEntities(r),n=o.addAnnotation(e,t,"LaTeX");i.populate(r,n)}return r}static getMathMLFromLatex(e,t){const i=c.cache;if(c.cache.get(e))return c.cache.get(e);const n={service:"latex2mathml",latex:e};t&&(n.saveLatex="");const s=JSON.parse(l.getService("service",n));let r;if("ok"===s.status){let t=s.result.text;r=-1===(t=t.split("\r").join("").split("\n").join(" ")).indexOf("semantics")&&-1===t.indexOf("annotation")?t=o.addAnnotation(t,e,"LaTeX"):t,i.get(e)||i.populate(e,t)}else r=`$$${e}$$`;return r}static parseMathmlToLatex(e,t){let i="";const s=`${t.tagOpener}math`,r=`${t.tagOpener}/math${t.tagCloser}`,a=`${t.tagOpener}annotation encoding=${t.doubleQuote}LaTeX${t.doubleQuote}${t.tagCloser}`,l=`${t.tagOpener}/annotation${t.tagCloser}`;let d,h,m,u=e.indexOf(s),g=0;for(;-1!==u;){if(i+=e.substring(g,u),-1===(g=e.indexOf(r,u))?g=e.length-1:g+=r.length,-1!==(h=(d=e.substring(u,g)).indexOf(a))){h+=a.length,m=d.indexOf(l);let e=d.substring(h,m);t===n.safeXmlCharacters&&(e=o.safeXmlDecode(e)),i+=`$$${e}$$`,c.cache.populate(e,d)}else i+=d;u=e.indexOf(s,g)}return i+=e.substring(g,e.length)}static getLatexFromTextNode(e,t,i){void 0!==i&&null!=i||(i={open:"$$",close:"$$"});let n,o=e;for(;o.previousSibling&&3===o.previousSibling.nodeType;)o=o.previousSibling;function s(e,t,n){let o=e.nodeValue.indexOf(n,t);for(;-1===o;){if(!(e=e.nextSibling))return null;o=e.nodeValue?e.nodeValue.indexOf(i.close):-1}return{node:e,position:o}}function r(e,t,i,n){if(e===i)return t<=n;for(;e&&e!==i;)e=e.nextSibling;return e===i}let a={node:o,position:0};const l=i.open.length;do{if(null==(n=s(a.node,a.position,i.open))||r(e,t,n.node,n.position))return null;if(null==(a=s(n.node,n.position+l,i.close)))return null;a.position+=l}while(r(a.node,a.position,e,t));let c;if(n.node===a.node)c=n.node.nodeValue.substring(n.position+l,a.position-l);else{const e=n.position+l;c=n.node.nodeValue.substring(e,n.node.nodeValue.length);let t=n.node;do{(t=t.nextSibling)===a.node?c+=a.node.nodeValue.substring(0,a.position-l):c+=t.nodeValue?t.nodeValue:""}while(t!==a.node)}return{latex:c,startNode:n.node,startPosition:n.position,endNode:a.node,endPosition:a.position}}}c._cache=new r;var d=i(0);class h{constructor(){throw new Error("Static class StringManager can not be instantiated.")}static get(e){let{language:t}=this;return t in this.strings||(console.warn(`Unknown language ${t} set in StringManager.`),t="en"),e in this.strings[t]?this.strings[t][e]:(console.warn(`Unknown key ${e} in StringManager.`),e)}}h.strings=d,h.language="en";class m{static fireEvent(e,t){if(document.createEvent){const i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),!e.dispatchEvent(i)}const i=document.createEventObject();return e.fireEvent(`on${t}`,i)}static addEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent&&e.attachEvent(`on${t}`,i)}static removeEvent(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!0):e.detachEvent&&e.detachEvent(`on${t}`,i)}static addElementEvents(e,t,i,n){t&&m.addEvent(e,"dblclick",e=>{const i=e||window.event,n=i.srcElement?i.srcElement:i.target;t(n,i)}),i&&m.addEvent(e,"mousedown",e=>{const t=e||window.event,n=t.srcElement?t.srcElement:t.target;i(n,t)}),n&&m.addEvent(e,"mouseup",e=>{const t=e||window.event,i=t.srcElement?t.srcElement:t.target;n(i,t)})}static addClass(e,t){m.containsClass(e,t)||(e.className+=` ${t}`)}static containsClass(e,t){if(null==e||!("className"in e))return!1;const i=e.className.split(" ");for(let e=i.length-1;e>=0;e-=1)if(i[e]===t)return!0;return!1}static removeClass(e,t){let i="";const n=e.className.split(" ");for(let e=0;e<n.length;e+=1)n[e]!==t&&(i+=`${n[e]} `);e.className=i.trim()}static convertOldXmlinitialtextAttribute(e){const t="value=",i=e.indexOf("xmlinitialtext"),n=e.indexOf(t,i),o=e.charAt(n+t.length),s=n+t.length+1,r=e.indexOf(o,s),a=e.substring(s,r);let l=a.split("«").join("§lt;");return l=(l=(l=l.split("»").join("§gt;")).split("&").join("§")).split("¨").join("§quot;"),e=e.split(a).join(l)}static createElement(e,t,i){let n;void 0===t&&(t={}),void 0===i&&(i=document);try{let o=`<${e}`;Object.keys(t).forEach(e=>{o+=` ${e}="${m.htmlEntities(t[e])}"`}),o+=">",n=i.createElement(o)}catch(o){n=i.createElement(e),Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])})}return n}static createObject(e,t){void 0===t&&(t=document),e=(e=(e=(e=e.split("<applet ").join('<span wirisObject="WirisApplet" ').split("<APPLET ").join('<span wirisObject="WirisApplet" ')).split("</applet>").join("</span>").split("</APPLET>").join("</span>")).split("<param ").join('<br wirisObject="WirisParam" ').split("<PARAM ").join('<br wirisObject="WirisParam" ')).split("</param>").join("</br>").split("</PARAM>").join("</br>");const i=m.createElement("div",{},t);return i.innerHTML=e,function e(i){if(i.getAttribute&&"WirisParam"===i.getAttribute("wirisObject")){const e={};for(let t=0;t<i.attributes.length;t+=1)null!==i.attributes[t].nodeValue&&(e[i.attributes[t].nodeName]=i.attributes[t].nodeValue);const n=m.createElement("param",e,t);n.NAME&&(n.name=n.NAME,n.value=n.VALUE),n.removeAttribute("wirisObject"),i.parentNode.replaceChild(n,i)}else if(i.getAttribute&&"WirisApplet"===i.getAttribute("wirisObject")){const n={};for(let e=0;e<i.attributes.length;e+=1)null!==i.attributes[e].nodeValue&&(n[i.attributes[e].nodeName]=i.attributes[e].nodeValue);const o=m.createElement("applet",n,t);o.removeAttribute("wirisObject");for(let t=0;t<i.childNodes.length;t+=1)e(i.childNodes[t]),"param"===i.childNodes[t].nodeName.toLowerCase()&&(o.appendChild(i.childNodes[t]),t-=1);i.parentNode.replaceChild(o,i)}else for(let t=0;t<i.childNodes.length;t+=1)e(i.childNodes[t])}(i),i.firstChild}static createObjectCode(e){if(void 0===e||null===e)return null;if(1===e.nodeType){let t=`<${e.tagName}`;for(let i=0;i<e.attributes.length;i+=1)e.attributes[i].specified&&(t+=` ${e.attributes[i].name}="${m.htmlEntities(e.attributes[i].value)}"`);if(e.childNodes.length>0){t+=">";for(let i=0;i<e.childNodes.length;i+=1)t+=m.createObject(e.childNodes[i]);t+=`</${e.tagName}>`}else"DIV"===e.nodeName||"SCRIPT"===e.nodeName?t+=`></${e.tagName}>`:t+="/>";return t}return 3===e.nodeType?m.htmlEntities(e.nodeValue):""}static concatenateUrl(e,t){let i="";return e.indexOf("/")!==e.length&&0!==t.indexOf("/")&&(i="/"),(e+i+t).replace(/([^:]\/)\/+/g,"$1")}static htmlEntities(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}static htmlEntitiesDecode(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}static createHttpRequest(){if("file://"===window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1).substr(0,7))throw h.get("exception_cross_site");if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}static httpBuildQuery(e){let t="";return Object.keys(e).forEach(i=>{null!=e[i]&&(t+=`${m.urlEncode(i)}=${m.urlEncode(e[i])}&`)}),"&"===t.substring(t.length-1)&&(t=t.substring(0,t.length-1)),t}static propertiesToString(e){const t=[];Object.keys(e).forEach(i=>{Object.prototype.hasOwnProperty.call(e,i)&&t.push(i)});const i=t.length;for(let e=0;e<i;e+=1)for(let n=e+1;n<i;n+=1){const i=t[e],o=t[n];m.compareStrings(i,o)>0&&(t[e]=o,t[n]=i)}let n="";for(let o=0;o<i;o+=1){const i=t[o];n+=i,n+="=";let s=e[i];n+=s=(s=(s=(s=s.replace("\\","\\\\")).replace("\n","\\n")).replace("\r","\\r")).replace("\t","\\t"),n+="\n"}return n}static compareStrings(e,t){let i;const n=e.length,o=t.length,s=n>o?o:n;for(i=0;i<s;i+=1){const n=m.fixedCharCodeAt(e,i)-m.fixedCharCodeAt(t,i);if(0!==n)return n}return e.length-t.length}static fixedCharCodeAt(e,t){t=t||0;const i=e.charCodeAt(t);let n,o;if(i>=55296&&i<=56319){if(n=i,o=e.charCodeAt(t+1),Number.isNaN(o))throw h.get("exception_high_surrogate");return 1024*(n-55296)+(o-56320)+65536}return!(i>=56320&&i<=57343)&&i}static urlToAssArray(e){let t;if((t=e.indexOf("?"))>0){const i=e.substring(t+1).split("&"),n={};for(t=0;t<i.length;t+=1){const e=i[t].split("=");e.length>1&&(n[e[0]]=decodeURIComponent(e[1].replace(/\+/g," ")))}return n}return{}}static urlEncode(e){let t="";return t=encodeURIComponent(e)}static getWIRISImageOutput(e,t,i){const r=m.createObject(e);if(r){if(r.className===s.get("imageClassName")||r.getAttribute(s.get("imageMathmlAttribute"))){if(!t)return e;let a=r.getAttribute(s.get("imageMathmlAttribute"));return s.get("saveHandTraces")||(a=o.removeSemanticsOcurrences(a,n.safeXmlCharacters)),null==a&&(a=r.getAttribute("alt")),i||(a=o.safeXmlDecode(a)),a}if(r.className===s.get("CASClassName")){let e=r.getAttribute(s.get("CASMathmlAttribute"));e=o.safeXmlDecode(e);const t=m.createObject(e);t.setAttribute("src",r.src);let n=m.createObjectCode(t);return i&&(n=o.safeXmlEncode(n)),n}}return e}static getNodeLength(e){const t={IMG:1,BR:1};if(3===e.nodeType)return e.nodeValue.length;if(1===e.nodeType){let i=t[e.nodeName.toUpperCase()];void 0===i&&(i=0);for(let t=0;t<e.childNodes.length;t+=1)i+=m.getNodeLength(e.childNodes[t]);return i}return 0}static getSelectedItem(e,t,i){let n;if(t?(n=e.contentWindow).focus():(n=window,e.focus()),document.selection&&!i){const i=n.document.selection.createRange();if(i.parentElement){if(i.htmlText.length>0)return 0===i.text.length?m.getSelectedItem(e,t,!0):null;n.document.execCommand("InsertImage",!1,"#");let o,s,r=i.parentElement();return"IMG"!==r.nodeName.toUpperCase()&&(i.pasteHTML('<span id="wrs_openEditorWindow_temporalObject"></span>'),r=n.document.getElementById("wrs_openEditorWindow_temporalObject")),r.nextSibling&&3===r.nextSibling.nodeType?(o=r.nextSibling,s=0):r.previousSibling&&3===r.previousSibling.nodeType?s=(o=r.previousSibling).nodeValue.length:(o=n.document.createTextNode(""),r.parentNode.insertBefore(o,r),s=0),r.parentNode.removeChild(r),{node:o,caretPosition:s}}return i.length>1?null:{node:i.item(0)}}if(n.getSelection){let e;const t=n.getSelection();try{e=t.getRangeAt(0)}catch(t){e=n.document.createRange()}const i=e.startContainer;if(3===i.nodeType)return{node:i,caretPosition:e.startOffset};if(i!==e.endContainer)return null;if(1===i.nodeType){const t=e.startOffset;if(i.childNodes[t])return{node:i.childNodes[t]}}}return null}static getSelectedItemOnTextarea(e){const t=document.createTextNode(e.value),i=c.getLatexFromTextNode(t,e.selectionStart);return null===i?null:{node:t,caretPosition:e.selectionStart,startPosition:i.startPosition,endPosition:i.endPosition}}static getElementsByNameFromString(e,t,i){const n=[];e=e.toLowerCase(),t=t.toLowerCase();let o=e.indexOf(`<${t} `);for(;-1!==o;){let s;s=i?">":`</${t}>`;let r=e.indexOf(s,o);-1!==r?(r+=s.length,n.push({start:o,end:r})):r=o+1,o=e.indexOf(`<${t} `,r)}return n}static decode64(e){const t="+".charCodeAt(0),i="/".charCodeAt(0),n="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),r="-".charCodeAt(0),a="_".charCodeAt(0),l=e.charCodeAt(0);return l===t||l===r?62:l===i||l===a?63:l<n?-1:l<n+10?l-n+26+26:l<s+26?l-s:l<o+26?l-o+26:null}static b64ToByteArray(e,t){let i;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const n=[];let o,s,r;for(o=t||((s="="===e.charAt(e.length-2)?2:"="===e.charAt(e.length-1)?1:0)>0?e.length-4:e.length),r=0;r<o;r+=4)i=m.decode64(e.charAt(r))<<18|m.decode64(e.charAt(r+1))<<12|m.decode64(e.charAt(r+2))<<6|m.decode64(e.charAt(r+3)),n.push(i>>16&255),n.push(i>>8&255),n.push(255&i);return s&&(2===s?(i=m.decode64(e.charAt(r))<<2|m.decode64(e.charAt(r+1))>>4,n.push(255&i)):1===s&&(i=m.decode64(e.charAt(r))<<10|m.decode64(e.charAt(r+1))<<4|m.decode64(e.charAt(r+2))>>2,n.push(i>>8&255),n.push(255&i))),n}static readInt32(e){if(e.length<4)return!1;const t=e.splice(0,4);return t[0]<<24|t[1]<<16|t[2]<<8|t[3]<<0}static readByte(e){return e.shift()<<0}static readBytes(e,t,i){return e.splice(t,i)}static updateTextArea(e,t){if(e&&t)if(e.focus(),null!=e.selectionStart){const{selectionEnd:i}=e,n=e.value.substring(0,e.selectionStart),o=e.value.substring(i,e.value.length);e.value=n+t+o,e.selectionEnd=i+t.length}else{document.selection.createRange().text=t}}static updateExistingTextOnTextarea(e,t,i,n){e.focus();const o=e.value.substring(0,i);e.value=o+t+e.value.substring(n,e.value.length),e.selectionEnd=i+t.length}static addArgument(e,t,i){let n;return`${e+(n=e.indexOf("?")>0?"&":"?")+t}=${i}`}}class u{static clone(e,t){const i=s.get("imageCustomEditorName");e.hasAttribute(i)||t.removeAttribute(i),[s.get("imageMathmlAttribute"),i,"alt","height","width","style","src","role"].forEach(i=>{const n=e.getAttribute(i);n&&t.setAttribute(i,n)})}static setImgSize(e,t,i){let n,o,r,a;if(i)if("svg"===s.get("imageFormat"))if("base64"!==s.get("saveMode"))n=u.getMetricsFromSvgString(t);else{o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length),a="",r=m.b64ToByteArray(o,o.length);for(let e=0;e<r.length;e+=1)a+=String.fromCharCode(r[e]);n=u.getMetricsFromSvgString(a)}else o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length),r=m.b64ToByteArray(o,88),n=u.getMetricsFromBytes(r);else n=m.urlToAssArray(t);let l=n.cw;if(!l)return;let c=n.ch,d=n.cb;const{dpi:h}=n;h&&(l=96*l/h,c=96*c/h,d=96*d/h),e.width=l,e.height=c,e.style.verticalAlign=`-${c-d}px`}static fixAfterResize(e){if(e.removeAttribute("style"),e.removeAttribute("width"),e.removeAttribute("height"),e.style.maxWidth="none",-1!==e.src.indexOf("data:image"))if("svg"===s.get("imageFormat")){const t=decodeURIComponent(e.src.substring(32,e.src.length));u.setImgSize(e,t,!0)}else{const t=e.src.substring(22,e.src.length);u.setImgSize(e,t,!0)}else u.setImgSize(e,e.src)}static getMetricsFromSvgString(e){let t=e.indexOf('height="'),i=e.indexOf('"',t+8,e.length);const n=e.substring(t+8,i);t=e.indexOf('width="'),i=e.indexOf('"',t+7,e.length);const o=e.substring(t+7,i);t=e.indexOf('wrs:baseline="'),i=e.indexOf('"',t+14,e.length);const s=e.substring(t+14,i);if(void 0!==o){const e=[];return e.cw=o,e.ch=n,void 0!==s&&(e.cb=s),e}return[]}static getMetricsFromBytes(e){let t,i,n,o,s;for(m.readBytes(e,0,8);e.length>=4;)1229472850===(n=m.readInt32(e))?(t=m.readInt32(e),i=m.readInt32(e),m.readInt32(e),m.readByte(e)):1650545477===n?o=m.readInt32(e):1883789683===n&&(s=m.readInt32(e),s=Math.round(s/39.37),m.readInt32(e),m.readByte(e)),m.readInt32(e);if(void 0!==t){const e=[];return e.cw=t,e.ch=i,e.dpi=s,o&&(e.cb=o),e}return[]}}class g{static get cache(){return g._cache}static set cache(e){g._cache=e}static mathMLToAccessible(e,t,i){void 0===t&&(t="en"),o.containClass(e,"wrs_chemistry")&&(i.mode="chemistry");let n="";if(g.cache.get(e))n=g.cache.get(e);else{i.service="mathml2accessible",i.lang=t;const o=JSON.parse(l.getService("service",i));"error"!==o.status?(n=o.result.text,g.cache.populate(e,n)):n=h.get("error_convert_accessibility")}return n}}g._cache=new r;i(1);class p{static mathmlToImgObject(e,t,i,n){const r=e.createElement("img");r.align="middle",r.style.maxWidth="none";const a=i||{};if(a.mml=t,a.lang=n,a.metrics="true",a.centerbaseline="false","base64"===s.get("saveMode")&&"default"===s.get("editMode")&&(a.base64=!0),r.className=s.get("imageClassName"),-1!==t.indexOf('class="')){let e=t.substring(t.indexOf('class="')+'class="'.length,t.length);e=(e=e.substring(0,e.indexOf('"'))).substring(4,e.length),r.setAttribute(s.get("imageCustomEditorName"),e)}if(!s.get("wirisPluginPerformance")||"xml"!==s.get("saveMode")&&"safeXml"!==s.get("saveMode")){const e=p.createImageSrc(t,a);r.setAttribute(s.get("imageMathmlAttribute"),o.safeXmlEncode(t)),r.src=e,u.setImgSize(r,e,"base64"===s.get("saveMode")&&"default"===s.get("editMode")),s.get("enableAccessibility")&&(r.alt=g.mathMLToAccessible(t,n,a))}else{let e=JSON.parse(p.createShowImageSrc(a,n));if("warning"===e.status)try{e=JSON.parse(l.getService("showimage",a))}catch(e){return null}({result:e}=e),"png"===e.format?r.src=`data:image/png;base64,${e.content}`:r.src=`data:image/svg+xml;charset=utf8,${m.urlEncode(e.content)}`,r.setAttribute(s.get("imageMathmlAttribute"),o.safeXmlEncode(t)),u.setImgSize(r,e.content,!0),s.get("enableAccessibility")&&(void 0===e.alt?r.alt=g.mathMLToAccessible(t,n,a):r.alt=e.alt)}return void 0!==p.observer&&p.observer.observe(r),r.setAttribute("role","math"),r}static createImageSrc(e,t){"base64"===s.get("saveMode")&&"default"===s.get("editMode")&&(t.base64=!0);let i=l.getService("createimage",t);if(-1!==i.indexOf("@BASE@")){const e=l.getServicePath("createimage").split("/");e.pop(),i=i.split("@BASE@").join(e.join("/"))}return i}static initParse(e,t){return e=p.initParseSaveMode(e,t),p.initParseEditMode(e)}static initParseSaveMode(e,t){return s.get("saveMode")&&(e=c.parseMathmlToLatex(e,n.safeXmlCharacters),e=c.parseMathmlToLatex(e,n.xmlCharacters),e=p.parseMathmlToImg(e,n.safeXmlCharacters,t),e=p.parseMathmlToImg(e,n.xmlCharacters,t),"base64"===s.get("saveMode")&&"image"===s.get("editMode")&&(e=p.codeImgTransform(e,"base642showimage"))),e}static initParseEditMode(e){if(-1!==s.get("parseModes").indexOf("latex")){const t=m.getElementsByNameFromString(e,"img",!0),i='encoding="LaTeX">';let n=0;for(let r=0;r<t.length;r+=1){const a=e.substring(t[r].start+n,t[r].end+n);if(-1!==a.indexOf(` class="${s.get("imageClassName")}"`)){let l=` ${s.get("imageMathmlAttribute")}="`,c=a.indexOf(l);if(-1===c&&(l=' alt="',c=a.indexOf(l)),-1!==c){c+=l.length;const s=a.indexOf('"',c),d=o.safeXmlDecode(a.substring(c,s));let h=d.indexOf(i);if(-1!==h){h+=i.length;const o=d.indexOf("</annotation>",h),s=d.substring(h,o),a=`$$${m.htmlEntitiesDecode(s)}$$`;e=e.substring(0,t[r].start+n)+a+e.substring(t[r].end+n),n+=a.length-(t[r].end-t[r].start)}}}}}return e}static endParse(e){const t=p.endParseEditMode(e);return p.endParseSaveMode(t)}static endParseEditMode(e){if(-1!==s.get("parseModes").indexOf("latex")){let t="",i=0,n=e.indexOf("$$");for(;-1!==n;){if(t+=e.substring(i,n),-1!==(i=e.indexOf("$$",n+2))){const r=e.substring(n+2,i),a=m.htmlEntitiesDecode(r);let l=c.getMathMLFromLatex(a,!0);s.get("saveHandTraces")||(l=o.removeAnnotation(l,"application/json")),t+=l,i+=2}else t+="$$",i=n+2;n=e.indexOf("$$",i)}e=t+=e.substring(i,e.length)}return e}static endParseSaveMode(e){return s.get("saveMode")&&("safeXml"===s.get("saveMode")?e=p.codeImgTransform(e,"img2mathml"):"xml"===s.get("saveMode")?e=p.codeImgTransform(e,"img2mathml"):"base64"===s.get("saveMode")&&"image"===s.get("editMode")&&(e=p.codeImgTransform(e,"img264"))),e}static createShowImageSrc(e,t){const i=[],n=["mml","color","centerbaseline","zoom","dpi","fontSize","fontFamily","defaultStretchy","backgroundColor","format"];n.forEach(t=>{const o=n[t];void 0!==e[o]&&(i[o]=e[o])});const o={};return Object.keys(e).forEach(t=>{"mml"!==t&&(o[t]=e[t])}),o.formula=com.wiris.js.JsPluginTools.md5encode(m.propertiesToString(i)),o.lang=void 0===t?"en":t,o.version=s.get("version"),l.getService("showimage",m.httpBuildQuery(o),!0)}static codeImgTransform(e,t){let i="",n=0;const r=/<img/gi,a=r.source.length;for(;r.test(e);){const l=r.lastIndex-a;i+=e.substring(n,l);let c=l+1;for(;c<e.length&&n<=l;){const t=e.charAt(c);if('"'===t||"'"===t){const i=e.indexOf(t,c+1);c=-1===i?e.length:i}else">"===t&&(n=c+1);c+=1}if(n<l)return i+=e.substring(l,e.length);let d=e.substring(l,n);const h=m.createObject(d);let g,_,f=h.getAttribute(s.get("imageMathmlAttribute"));if("base642showimage"===t)null==f&&(f=h.getAttribute("alt")),f=o.safeXmlDecode(f),d=p.mathmlToImgObject(document,f,null,null),i+=m.createObjectCode(d);else if("img2mathml"===t)s.get("saveMode")&&("safeXml"===s.get("saveMode")?(g=!0,_=!0):"xml"===s.get("saveMode")&&(g=!0,_=!1)),i+=m.getWIRISImageOutput(d,g,_);else if("img264"===t){null===f&&(f=h.getAttribute("alt")),f=o.safeXmlDecode(f);const e={base64:"true"};d=p.mathmlToImgObject(document,f,e,null),u.setImgSize(d,d.src,!0),i+=m.createObjectCode(d)}}return i+=e.substring(n,e.length)}static parseMathmlToImg(e,t,i){let r="";const a=`${t.tagOpener}math`,l=`${t.tagOpener}/math${t.tagCloser}`;let c=e.indexOf(a),d=0;for(;-1!==c;){r+=e.substring(d,c);const h=e.indexOf(s.get("imageMathmlAttribute"));if(-1===(d=e.indexOf(l,c))?d=e.length-1:d+=-1!==h?e.indexOf("/>",c):l.length,o.isMathmlInAttribute(e,c)||-1!==h)r+=e.substring(c,d);else{let s=e.substring(c,d);s=t.id===n.safeXmlCharacters.id?o.safeXmlDecode(s):o.mathMLEntities(s),r+=m.createObjectCode(p.mathmlToImgObject(document,s,null,i))}c=e.indexOf(a,d)}return r+=e.substring(d,e.length)}}if("undefined"!=typeof MutationObserver){const e=new MutationObserver(e=>{e.forEach(e=>{e.oldValue===s.get("imageClassName")&&"class"===e.attributeName&&-1===e.target.className.indexOf(s.get("imageClassName"))&&(e.target.className=s.get("imageClassName"))})});p.observer=Object.create(e),p.observer.Config={attributes:!0,attributeOldValue:!0},p.observer.observe=function(e){Object.getPrototypeOf(this).observe(e,this.Config)}}class _{constructor(){this.isContentChanged=!1,this.waitingForChanges=!1}setIsContentChanged(e){this.isContentChanged=e}getIsContentChanged(){return this.isContentChanged}setWaitingForChanges(e){this.waitingForChanges=e}caretPositionChanged(e){}clipboardChanged(e){}contentChanged(e){!0===this.waitingForChanges&&!1===this.isContentChanged&&(this.isContentChanged=!0)}styleChanged(e){}transformationReceived(e){}}class f{constructor(e){if(this.editorAttributes={},!("editorAttributes"in e))throw new Error("ContentManager constructor error: editorAttributes property missed.");if(this.editorAttributes=e.editorAttributes,this.customEditors=null,"customEditors"in e&&(this.customEditors=e.customEditors),this.environment={},!("environment"in e))throw new Error("ContentManager constructor error: environment property missed");if(this.environment=e.environment,this.language="",!("language"in e))throw new Error("ContentManager constructor error: language property missed");this.language=e.language,this.editorListener=new _,this.editor=null,this.ua=navigator.userAgent.toLowerCase(),this.deviceProperties={},this.deviceProperties.isAndroid=this.ua.indexOf("android")>-1,this.deviceProperties.isIOS=this.ua.indexOf("ipad")>-1||this.ua.indexOf("iphone")>-1,this.toolbar=null,this.modalDialogInstance=null,this.listeners=new a,this.mathML=null,this.isNewElement=!0,this.integrationModel=null,this.isEditorLoaded=!1}addListener(e){this.listeners.add(e)}setIntegrationModel(e){this.integrationModel=e}setModalDialogInstance(e){this.modalDialogInstance=e}insert(){this.updateTitle(this.modalDialogInstance),this.insertEditor(this.modalDialogInstance)}insertEditor(){if(window.com&&window.com.wiris&&window.com.wiris.jsEditor&&window.com.wiris.jsEditor.JsEditor&&window.com.wiris.jsEditor.JsEditor.newInstance){if(this.editor=window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes),this.editor.insertInto(this.modalDialogInstance.contentContainer),this.editor.focus(),this.modalDialogInstance.rtl&&this.editor.action("rtl"),this.editor.getEditorModel().isRTL()&&(this.editor.element.style.direction="rtl"),this.editor.getEditorModel().addEditorListener(this.editorListener),this.modalDialogInstance.deviceProperties.isIOS){setTimeout(function(){this.modalDialogInstance.hideKeyboard()},400);const e=document.getElementsByClassName("wrs_formulaDisplay")[0];m.addEvent(e,"focus",this.modalDialogInstance.handleOpenedIosSoftkeyboard),m.addEvent(e,"blur",this.modalDialogInstance.handleClosedIosSoftkeyboard)}this.listeners.fire("onLoad",{}),this.isEditorLoaded=!0}else setTimeout(f.prototype.insertEditor.bind(this),100)}init(){const e=document.createElement("script");e.type="text/javascript";let t=s.get("editorUrl");const i=document.createElement("a");i.href=t,0===window.location.href.indexOf("https://")&&"http:"===i.protocol&&(i.protocol="https:"),t="80"===i.port||"443"===i.port?`${i.protocol}//${i.hostname}/${i.pathname}`:`${i.protocol}//${i.hostname}:${i.port}/${i.pathname}`;const n={};"editor"in this.environment?n.editor=this.environment.editor:n.editor="unknown","mode"in this.environment?n.mode=this.environment.mode:n.mode=s.get("saveMode"),"version"in this.environment?n.version=this.environment.version:n.version=s.get("version"),e.src=`${t}?lang=${this.language}&stats-editor=${n.editor}&stats-mode=${n.mode}&stats-version=${n.version}`,document.getElementsByTagName("head")[0].appendChild(e)}setInitialContent(){this.isNewElement||this.setMathML(this.mathML)}setMathML(e,t){void 0===t&&(t=!1),this.editor.setMathMLWithCallback(e,()=>{this.editorListener.setWaitingForChanges(!0)}),setTimeout(()=>{this.editorListener.setIsContentChanged(!1)},500),t||this.onFocus()}onFocus(){void 0!==this.editor&&null!=this.editor&&this.editor.focus()}submitAction(){if(this.editor.isFormulaEmpty())this.integrationModel.updateFormula(null);else{let e=this.editor.getMathMLWithSemantics();if(null!==this.customEditors.getActiveEditor()){const{toolbar:t}=this.customEditors.getActiveEditor();e=o.addCustomEditorClassAttribute(e,t)}else Object.keys(this.customEditors.editors).forEach(t=>{e=o.removeCustomEditorClassAttribute(e,t)});const t=o.mathMLEntities(e);this.integrationModel.updateFormula(t)}this.customEditors.disable(),this.integrationModel.notifyWindowClosed(),this.setEmptyMathML(),this.customEditors.disable()}setEmptyMathML(){this.deviceProperties.isAndroid||this.deviceProperties.isIOS?this.editor.getEditorModel().isRTL()?this.setMathML('<math dir="rtl"><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',!0):this.setMathML('<math><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',!0):this.editor.getEditorModel().isRTL()?this.setMathML('<math dir="rtl"/>',!0):this.setMathML("<math/>",!0)}onOpen(){this.isNewElement?this.setEmptyMathML():this.setMathML(this.mathML),this.updateToolbar(),this.onFocus()}updateToolbar(){this.updateTitle(this.modalDialogInstance);const e=this.customEditors.getActiveEditor();if(e){const t=e.toolbar?e.toolbar:_wrs_int_wirisProperties.toolbar;null!=this.toolbar&&this.toolbar===t||this.setToolbar(t)}else{const e=this.getToolbar();null!=this.toolbar&&this.toolbar===e||(this.setToolbar(e),this.customEditors.disable())}}updateTitle(){const e=this.customEditors.getActiveEditor();e?this.modalDialogInstance.setTitle(e.title):this.modalDialogInstance.setTitle("MathType")}getToolbar(){let e="general";return"toolbar"in this.editorAttributes&&({toolbar:e}=this.editorAttributes.toolbar),"general"===e&&(e="undefined"==typeof _wrs_int_wirisProperties||void 0===_wrs_int_wirisProperties.toolbar?"general":_wrs_int_wirisProperties.toolbar),e}setToolbar(e){this.toolbar=e,this.editor.setParams({toolbar:this.toolbar})}hasChanges(){return!this.editor.isFormulaEmpty()&&this.editorListener.getIsContentChanged()}onKeyDown(e){if(void 0!==e.key&&!1===e.repeat)if("Escape"===e.key||"Esc"===e.key){let t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed");0===t.length&&0===(t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed")).length&&0===(t=document.getElementsByClassName("wrs_select wrs_pressed")).length&&(this.modalDialogInstance.cancelAction(),e.stopPropagation(),e.preventDefault())}else if(e.shiftKey&&"Tab"===e.key)if(document.activeElement===this.modalDialogInstance.submitButton)this.editor.focus(),e.stopPropagation(),e.preventDefault();else{const t=document.getElementsByClassName("wrs_selected");let i=!1;for(let n=0;!i&&n<t.length;n+=1)"tab"===t[n].getAttribute("role")&&document.activeElement===t[n]&&(this.modalDialogInstance.cancelButton.focus(),i=!0,e.stopPropagation(),e.preventDefault())}else if("Tab"===e.key)if(document.activeElement===this.modalDialogInstance.cancelButton){const t=document.getElementsByClassName("wrs_selected");let i=!1;for(let n=0;!i&&n<t.length;n+=1)"tab"===t[n].getAttribute("role")&&(t[n].focus(),i=!0,e.stopPropagation(),e.preventDefault())}else{"wrs_formulaDisplay wrs_focused"===document.getElementsByClassName("wrs_formulaDisplay")[0].getAttribute("class")&&(this.modalDialogInstance.submitButton.focus(),e.stopPropagation(),e.preventDefault())}}}class b{constructor(){this.editors=[],this.activeEditor="default"}addEditor(e,t){const i={};i.name=t.name,i.toolbar=t.toolbar,i.icon=t.icon,i.confVariable=t.confVariable,i.title=t.title,i.tooltip=t.tooltip,this.editors[e]=i}enable(e){this.activeEditor=e}disable(){this.activeEditor="default"}getActiveEditor(){return"default"!==this.activeEditor?this.editors[this.activeEditor]:null}}var w={imageCustomEditorName:"data-custom-editor",imageClassName:"Wirisformula",CASClassName:"Wiriscas"};class x{constructor(){this.cancelled=!1,this.defaultPrevented=!1}cancel(){this.cancelled=!0}preventDefault(){this.defaultPrevented=!0}}class v{constructor(e){this.overlayElement=e.overlayElement,this.callbacks=e.callbacks,this.overlayWrapper=this.overlayElement.appendChild(document.createElement("div")),this.overlayWrapper.setAttribute("class","wrs_popupmessage_overlay_envolture"),this.message=this.overlayWrapper.appendChild(document.createElement("div")),this.message.id="wrs_popupmessage",this.message.setAttribute("class","wrs_popupmessage_panel"),this.message.innerHTML=e.strings.message;const t=this.overlayWrapper.appendChild(document.createElement("div"));t.setAttribute("class","wrs_popupmessage_overlay"),t.addEventListener("click",this.cancelAction.bind(this)),this.buttonArea=this.message.appendChild(document.createElement("div")),this.buttonArea.setAttribute("class","wrs_popupmessage_button_area"),this.buttonArea.id="wrs_popup_button_area";const i={class:"wrs_button_accept",innerHTML:e.strings.submitString,id:"wrs_popup_accept_button"};this.closeButton=this.createButton(i,this.closeAction.bind(this)),this.buttonArea.appendChild(this.closeButton);const n={class:"wrs_button_cancel",innerHTML:e.strings.cancelString,id:"wrs_popup_cancel_button"};this.cancelButton=this.createButton(n,this.cancelAction.bind(this)),this.buttonArea.appendChild(this.cancelButton)}createButton(e,t){let i={};return(i=document.createElement("button")).setAttribute("id",e.id),i.setAttribute("class",e.class),i.innerHTML=e.innerHTML,i.addEventListener("click",t),i}show(){"block"!==this.overlayWrapper.style.display?(document.activeElement.blur(),window.focus(),this.overlayWrapper.style.display="block"):(this.overlayWrapper.style.display="none",_wrs_modalWindow.focus())}cancelAction(){this.overlayWrapper.style.display="none",void 0!==this.callbacks.cancelCallback&&this.callbacks.cancelCallback()}closeAction(){this.cancelAction(),void 0!==this.callbacks.closeCallback&&this.callbacks.closeCallback()}onKeyDown(e){void 0!==e.key&&!1===e.repeat&&("Escape"===e.key||"Esc"===e.key?(this.cancelAction(),e.stopPropagation(),e.preventDefault()):"Tab"===e.key&&(document.activeElement===this.closeButton?this.cancelButton.focus():this.closeButton.focus(),e.stopPropagation(),e.preventDefault()))}}class y{constructor(e){this.attributes=e;const t=navigator.userAgent.toLowerCase(),i=t.indexOf("android")>-1,n=t.indexOf("ipad")>-1||t.indexOf("iphone")>-1;this.iosSoftkeyboardOpened=!1,this.iosMeasureUnit=-1===t.indexOf("crios")?"%":"vh",this.iosDivHeight=`100%${this.iosMeasureUnit}`;const o=window.outerWidth,s=window.outerHeight,r=o>s,a=o<s,l=r&&this.attributes.height>s,c=a&&this.attributes.width>o,d=l||c;this.instanceId=document.getElementsByClassName("wrs_modal_dialogContainer").length,this.deviceProperties={orientation:r?"landscape":"portait",isAndroid:i,isIOS:n,isMobile:d,isDesktop:!d&&!n&&!i},this.properties={created:!1,state:"",previousState:"",position:{bottom:0,right:10},size:{height:338,width:580}},this.websiteBeforeLockParameters=null;let u={class:"wrs_modal_overlay"};u.id=this.getElementId(u.class),this.overlay=m.createElement("div",u),(u={}).class="wrs_modal_title_bar",u.id=this.getElementId(u.class),this.titleBar=m.createElement("div",u),(u={}).class="wrs_modal_title",u.id=this.getElementId(u.class),this.title=m.createElement("div",u),this.title.innerHTML="",(u={}).class="wrs_modal_close_button",u.id=this.getElementId(u.class),u.title=h.get("close"),this.closeDiv=m.createElement("a",u),this.closeDiv.setAttribute("role","button"),(u={}).class="wrs_modal_stack_button",u.id=this.getElementId(u.class),u.title=h.get("exit_fullscreen"),this.stackDiv=m.createElement("a",u),this.stackDiv.setAttribute("role","button"),(u={}).class="wrs_modal_maximize_button",u.id=this.getElementId(u.class),u.title=h.get("fullscreen"),this.maximizeDiv=m.createElement("a",u),this.maximizeDiv.setAttribute("role","button"),(u={}).class="wrs_modal_minimize_button",u.id=this.getElementId(u.class),u.title=h.get("minimize"),this.minimizeDiv=m.createElement("a",u),this.minimizeDiv.setAttribute("role","button"),(u={}).class="wrs_modal_dialogContainer",u.id=this.getElementId(u.class),this.container=m.createElement("div",u),(u={}).class="wrs_modal_wrapper",u.id=this.getElementId(u.class),this.wrapper=m.createElement("div",u),(u={}).class="wrs_content_container",u.id=this.getElementId(u.class),this.contentContainer=m.createElement("div",u),(u={}).class="wrs_modal_controls",u.id=this.getElementId(u.class),this.controls=m.createElement("div",u),(u={}).class="wrs_modal_buttons_container",u.id=this.getElementId(u.class),this.buttonContainer=m.createElement("div",u),this.submitButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_accept"),class:"wrs_modal_button_accept",innerHTML:h.get("accept")},this.submitAction.bind(this)),this.cancelButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_cancel"),class:"wrs_modal_button_cancel",innerHTML:h.get("cancel")},this.cancelAction.bind(this)),this.contentManager=null;const g={cancelString:h.get("cancel"),submitString:h.get("close"),message:h.get("close_modal_warning")},p={closeCallback:()=>{this.close()},cancelCallback:()=>{this.focus()}},_={overlayElement:this.container,callbacks:p,strings:g};this.popup=new v(_),this.rtl=!1,"rtl"in this.attributes&&(this.rtl=this.attributes.rtl),this.handleOpenedIosSoftkeyboard=this.handleOpenedIosSoftkeyboard.bind(this),this.handleClosedIosSoftkeyboard=this.handleClosedIosSoftkeyboard.bind(this)}setContentManager(e){this.contentManager=e}getContentManager(){return this.contentManager}submitAction(){void 0!==this.contentManager.submitAction&&this.contentManager.submitAction(),this.close()}cancelAction(){void 0===this.contentManager.hasChanges?this.close():this.contentManager.hasChanges()?this.showPopUpMessage():this.close()}createSubmitButton(e,t){return new class{constructor(){this.element=document.createElement("button"),this.element.id=e.id,this.element.className=e.class,this.element.innerHTML=e.innerHTML,m.addEvent(this.element,"click",t)}getElement(){return this.element}}(e,t).getElement()}create(){this.titleBar.appendChild(this.closeDiv),this.titleBar.appendChild(this.stackDiv),this.titleBar.appendChild(this.maximizeDiv),this.titleBar.appendChild(this.minimizeDiv),this.titleBar.appendChild(this.title),this.deviceProperties.isDesktop&&this.container.appendChild(this.titleBar),this.wrapper.appendChild(this.contentContainer),this.wrapper.appendChild(this.controls),this.controls.appendChild(this.buttonContainer),this.buttonContainer.appendChild(this.submitButton),this.buttonContainer.appendChild(this.cancelButton),this.container.appendChild(this.wrapper),this.recalculateScrollBar(),document.body.appendChild(this.container),document.body.appendChild(this.overlay),this.deviceProperties.isDesktop?(this.createModalWindowDesktop(),this.createResizeButtons(),this.addListeners(),s.get("modalWindowFullScreen")&&this.maximize()):this.deviceProperties.isAndroid?this.createModalWindowAndroid():this.deviceProperties.isIOS&&!this.deviceProperties.isMobile&&this.createModalWindowIos(),null!=this.contentManager&&this.contentManager.insert(this),this.properties.open=!0,this.properties.created=!0,this.isRTL()&&(this.container.style.right=`${window.innerWidth-this.scrollbarWidth-this.container.offsetWidth}px`,this.container.className+=" wrs_modal_rtl")}createResizeButtons(){this.resizerBR=document.createElement("div"),this.resizerBR.className="wrs_bottom_right_resizer",this.resizerBR.innerHTML="◢",this.resizerTL=document.createElement("div"),this.resizerTL.className="wrs_bottom_left_resizer",this.container.appendChild(this.resizerBR),this.titleBar.appendChild(this.resizerTL),m.addEvent(this.resizerBR,"mousedown",this.activateResizeStateBR.bind(this)),m.addEvent(this.resizerTL,"mousedown",this.activateResizeStateTL.bind(this))}activateResizeStateBR(e){this.initializeResizeProperties(e,!1)}activateResizeStateTL(e){this.initializeResizeProperties(e,!0)}initializeResizeProperties(e,t){m.addClass(document.body,"wrs_noselect"),m.addClass(this.overlay,"wrs_overlay_active"),this.resizeDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y},this.initialWidth=parseInt(this.container.style.width,10),this.initialHeight=parseInt(this.container.style.height,10),t?this.leftScale=!0:(this.initialRight=parseInt(this.container.style.right,10),this.initialBottom=parseInt(this.container.style.bottom,10)),this.initialRight||(this.initialRight=0),this.initialBottom||(this.initialBottom=0),document.body.style["user-select"]="none"}open(){this.removeClass("wrs_closed");const{isIOS:e}=this.deviceProperties,{isAndroid:t}=this.deviceProperties,{isMobile:i}=this.deviceProperties;if((e||t||i)&&(this.restoreWebsiteScale(),this.lockWebsiteScroll(),setTimeout(()=>{this.hideKeyboard()},400)),this.properties.created?(this.properties.open||(this.properties.open=!0,this.deviceProperties.isAndroid||this.deviceProperties.isIOS||this.restoreState()),this.deviceProperties.isDesktop&&s.get("modalWindowFullScreen")&&this.maximize(),this.deviceProperties.isIOS&&(this.iosSoftkeyboardOpened=!1,this.setContainerHeight(`${100+this.iosMeasureUnit}`))):this.create(),!1===this.contentManager.isEditorLoaded){const e=a.newListener("onLoad",()=>{this.contentManager.onOpen(this)});this.contentManager.addListener(e)}else this.contentManager.onOpen(this)}close(){this.removeClass("wrs_maximized"),this.removeClass("wrs_minimized"),this.removeClass("wrs_stack"),this.addClass("wrs_closed"),this.saveModalProperties(),this.unlockWebsiteScroll(),this.properties.open=!1}restoreWebsiteScale(){let e=document.querySelector("meta[name=viewport]");const t=["initial-scale=","minimum-scale=","maximum-scale="],i=["1.0","1.0","1.0"],n=(e,t)=>{const n=e.getAttribute("content");if(n){const o=n.split(",");let s="";const r=[];for(let e=0;e<o.length;e+=1){let i=!1,n=0;for(;!i&&n<t.length;)o[e].indexOf(t[n])&&(i=!0),n+=1;i||r.push(o[e])}for(let e=0;e<t.length;e+=1){const n=t[e]+i[e];s+=0===e?n:`,${n}`}for(let e=0;e<r.length;e+=1)s+=`,${r[e]}`;e.setAttribute("content",s),e.setAttribute("content",""),e.setAttribute("content",n)}else e.setAttribute("content","initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"),e.removeAttribute("content")};e?n(e,t):(e=document.createElement("meta"),document.getElementsByTagName("head")[0].appendChild(e),n(e,t),e.remove())}lockWebsiteScroll(){this.websiteBeforeLockParameters={bodyStylePosition:document.body.style.position?document.body.style.position:"",bodyStyleOverflow:document.body.style.overflow?document.body.style.overflow:"",htmlStyleOverflow:document.documentElement.style.overflow?document.documentElement.style.overflow:"",windowScrollX:window.scrollX,windowScrollY:window.scrollY}}unlockWebsiteScroll(){if(this.websiteBeforeLockParameters){document.body.style.position=this.websiteBeforeLockParameters.bodyStylePosition,document.body.style.overflow=this.websiteBeforeLockParameters.bodyStyleOverflow,document.documentElement.style.overflow=this.websiteBeforeLockParameters.htmlStyleOverflow;const{windowScrollX:e}=this.websiteBeforeLockParameters,{windowScrollY:t}=this.websiteBeforeLockParameters;window.scrollTo(e,t),this.websiteBeforeLockParameters=null}}isIE11(){return navigator.userAgent.search("Msie/")>=0||navigator.userAgent.search("Trident/")>=0||navigator.userAgent.search("Edge/")>=0}isRTL(){return"ar"===this.attributes.language||"he"===this.attributes.language||this.rtl}addClass(e){m.addClass(this.overlay,e),m.addClass(this.titleBar,e),m.addClass(this.overlay,e),m.addClass(this.container,e),m.addClass(this.contentContainer,e),m.addClass(this.stackDiv,e),m.addClass(this.minimizeDiv,e),m.addClass(this.maximizeDiv,e),m.addClass(this.wrapper,e)}removeClass(e){m.removeClass(this.overlay,e),m.removeClass(this.titleBar,e),m.removeClass(this.overlay,e),m.removeClass(this.container,e),m.removeClass(this.contentContainer,e),m.removeClass(this.stackDiv,e),m.removeClass(this.minimizeDiv,e),m.removeClass(this.maximizeDiv,e),m.removeClass(this.wrapper,e)}createModalWindowDesktop(){this.addClass("wrs_modal_desktop"),this.stack()}createModalWindowAndroid(){this.addClass("wrs_modal_android"),window.addEventListener("resize",this.orientationChangeAndroidSoftkeyboard.bind(this))}createModalWindowIos(){this.addClass("wrs_modal_ios"),window.addEventListener("resize",this.orientationChangeIosSoftkeyboard.bind(this))}restoreState(){"maximized"===this.properties.state?this.maximize():"minimized"===this.properties.state?(this.properties.state=this.properties.previousState,this.properties.previousState="",this.minimize()):this.stack()}stack(){this.properties.previousState=this.properties.state,this.properties.state="stack",this.removeClass("wrs_maximized"),this.minimizeDiv.title=h.get("minimize"),this.removeClass("wrs_minimized"),this.addClass("wrs_stack"),this.restoreModalProperties(),void 0!==this.resizerBR&&void 0!==this.resizerTL&&this.setResizeButtonsVisibility(),this.recalculateScrollBar(),this.recalculatePosition(),this.recalculateScale(),this.focus()}minimize(){this.saveModalProperties(),"minimized"===this.properties.state&&"stack"===this.properties.previousState?this.stack():"minimized"===this.properties.state&&"maximized"===this.properties.previousState?this.maximize():(this.container.style.height="30px",this.container.style.width="250px",this.container.style.bottom="0px",this.container.style.right="10px",this.removeListeners(),this.properties.previousState=this.properties.state,this.properties.state="minimized",this.setResizeButtonsVisibility(),this.minimizeDiv.title=h.get("maximize"),m.containsClass(this.overlay,"wrs_stack")?this.removeClass("wrs_stack"):this.removeClass("wrs_maximized"),this.addClass("wrs_minimized"))}maximize(){this.saveModalProperties(),"maximized"!==this.properties.state&&(this.properties.previousState=this.properties.state,this.properties.state="maximized"),this.setResizeButtonsVisibility(),m.containsClass(this.overlay,"wrs_minimized")?(this.minimizeDiv.title=h.get("minimize"),this.removeClass("wrs_minimized")):m.containsClass(this.overlay,"wrs_stack")&&(this.container.style.left=null,this.container.style.top=null,this.removeClass("wrs_stack")),this.addClass("wrs_maximized"),this.setSize(parseInt(.8*window.innerHeight,10),parseInt(.8*window.innerWidth,10)),this.container.clientHeight>700&&(this.container.style.height="700px"),this.container.clientWidth>1200&&(this.container.style.width="1200px");const{innerHeight:e}=window,{innerWidth:t}=window,{offsetHeight:i}=this.container,{offsetWidth:n}=this.container,o=t/2-n/2;this.setPosition(o),this.recalculateScale(),this.recalculatePosition(),this.recalculateSize(),this.focus()}setSize(e,t){this.container.style.height=`${e}px`,this.container.style.width=`${t}px`,this.recalculateSize()}setPosition(e,t){this.container.style.bottom=`${e}px`,this.container.style.right=`${t}px`}saveModalProperties(){"stack"===this.properties.state&&(this.properties.position.bottom=parseInt(this.container.style.bottom,10),this.properties.position.right=parseInt(this.container.style.right,10),this.properties.size.width=parseInt(this.container.style.width,10),this.properties.size.height=parseInt(this.container.style.height,10))}restoreModalProperties(){"stack"===this.properties.state&&(this.setPosition(this.properties.position.bottom,this.properties.position.right),this.setSize(this.properties.size.height,this.properties.size.width))}recalculateSize(){this.wrapper.style.width=`${this.container.clientWidth-12}px`,this.wrapper.style.height=`${this.container.clientHeight-38}px`,this.contentContainer.style.height=`${parseInt(this.wrapper.offsetHeight-50,10)}px`}setResizeButtonsVisibility(){"stack"===this.properties.state?(this.resizerTL.style.visibility="visible",this.resizerBR.style.visibility="visible"):(this.resizerTL.style.visibility="hidden",this.resizerBR.style.visibility="hidden")}addListeners(){this.maximizeDiv.addEventListener("click",this.maximize.bind(this),!0),this.stackDiv.addEventListener("click",this.stack.bind(this),!0),this.minimizeDiv.addEventListener("click",this.minimize.bind(this),!0),this.closeDiv.addEventListener("click",this.cancelAction.bind(this)),this.overlay.addEventListener("click",this.cancelAction.bind(this)),m.addEvent(window,"mousedown",this.startDrag.bind(this)),m.addEvent(window,"mouseup",this.stopDrag.bind(this)),m.addEvent(window,"mousemove",this.drag.bind(this)),m.addEvent(window,"resize",this.onWindowResize.bind(this)),m.addEvent(window,"keydown",this.onKeyDown.bind(this))}removeListeners(){m.removeEvent(window,"mousedown",this.startDrag),m.removeEvent(window,"mouseup",this.stopDrag),m.removeEvent(window,"mousemove",this.drag),m.removeEvent(window,"resize",this.onWindowResize),m.removeEvent(window,"keydown",this.onKeyDown)}eventClient(e){if(void 0===e.clientX&&e.changedTouches){return{X:e.changedTouches[0].clientX,Y:e.changedTouches[0].clientY}}return{X:e.clientX,Y:e.clientY}}startDrag(e){"minimized"!==this.properties.state&&e.target===this.title&&(void 0!==this.dragDataObject&&null!==this.dragDataObject||(this.dragDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y},this.lastDrag={x:"0px",y:"0px"},""===this.container.style.right&&(this.container.style.right="0px"),""===this.container.style.bottom&&(this.container.style.bottom="0px"),this.isIE11(),m.addClass(document.body,"wrs_noselect"),m.addClass(this.overlay,"wrs_overlay_active"),this.limitWindow=this.getLimitWindow()))}drag(e){if(this.dragDataObject){e.preventDefault();let t=Math.min(this.eventClient(e).Y,this.limitWindow.minPointer.y);t=Math.max(this.limitWindow.maxPointer.y,t);let i=Math.min(this.eventClient(e).X,this.limitWindow.minPointer.x);const n=`${(i=Math.max(this.limitWindow.maxPointer.x,i))-this.dragDataObject.x}px`,o=`${t-this.dragDataObject.y}px`;this.lastDrag={x:n,y:o},this.container.style.transform=`translate3d(${n},${o},0)`}if(this.resizeDataObject){const{innerWidth:t}=window,{innerHeight:i}=window;let n,o=Math.min(this.eventClient(e).X,t-this.scrollbarWidth-7),s=Math.min(this.eventClient(e).Y,i-7);o<0&&(o=0),s<0&&(s=0),n=this.leftScale?-1:1,this.container.style.width=`${this.initialWidth+n*(o-this.resizeDataObject.x)}px`,this.container.style.height=`${this.initialHeight+n*(s-this.resizeDataObject.y)}px`,this.leftScale||(this.resizeDataObject.x-o-this.initialWidth<-580?this.container.style.right=`${this.initialRight-(o-this.resizeDataObject.x)}px`:(this.container.style.right=`${this.initialRight+this.initialWidth-580}px`,this.container.style.width="580px"),this.resizeDataObject.y-s<this.initialHeight-338?this.container.style.bottom=`${this.initialBottom-(s-this.resizeDataObject.y)}px`:(this.container.style.bottom=`${this.initialBottom+this.initialHeight-338}px`,this.container.style.height="338px")),this.recalculateScale(),this.recalculatePosition()}}getLimitWindow(){const e=window.innerWidth,t=window.innerHeight,{offsetHeight:i}=this.container,n=parseInt(this.container.style.bottom,10),o=parseInt(this.container.style.right,10),{pageXOffset:s}=window,r=this.dragDataObject.y,a=this.dragDataObject.x,l=i+n-(t-(r-s)),c=e-this.scrollbarWidth-(a-s)-o,d=t-this.container.offsetHeight+l,h=this.title.offsetHeight-(this.title.offsetHeight-l);return{minPointer:{x:e-c-this.scrollbarWidth,y:d},maxPointer:{x:this.container.offsetWidth-c,y:h}}}getScrollBarWidth(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;return i===n&&(n=t.clientWidth),document.body.removeChild(t),i-n}stopDrag(){(this.dragDataObject||this.resizeDataObject)&&(this.container.style.transform="",this.dragDataObject&&(this.container.style.right=`${parseInt(this.container.style.right,10)-parseInt(this.lastDrag.x,10)}px`,this.container.style.bottom=`${parseInt(this.container.style.bottom,10)-parseInt(this.lastDrag.y,10)}px`),this.focus(),document.body.style["user-select"]="",this.isIE11(),m.removeClass(document.body,"wrs_noselect"),m.removeClass(this.overlay,"wrs_overlay_active")),this.dragDataObject=null,this.resizeDataObject=null,this.initialWidth=null,this.leftScale=null}onWindowResize(){this.recalculateScrollBar(),this.recalculatePosition(),this.recalculateScale()}onKeyDown(e){void 0!==e.key&&!1===e.repeat&&("block"!==this.popup.overlayWrapper.style.display?"Escape"===e.key||"Esc"===e.key?this.properties.open&&this.contentManager.onKeyDown(e):e.shiftKey&&"Tab"===e.key?document.activeElement===this.cancelButton?(this.submitButton.focus(),e.stopPropagation(),e.preventDefault()):this.contentManager.onKeyDown(e):"Tab"===e.key&&(document.activeElement===this.submitButton?(this.cancelButton.focus(),e.stopPropagation(),e.preventDefault()):this.contentManager.onKeyDown(e)):this.popup.onKeyDown(e))}recalculatePosition(){this.container.style.right=`${Math.min(parseInt(this.container.style.right,10),window.innerWidth-this.scrollbarWidth-this.container.offsetWidth)}px`,parseInt(this.container.style.right,10)<0&&(this.container.style.right="0px"),this.container.style.bottom=`${Math.min(parseInt(this.container.style.bottom,10),window.innerHeight-this.container.offsetHeight)}px`,parseInt(this.container.style.bottom,10)<0&&(this.container.style.bottom="0px")}recalculateScale(){let e=!1;parseInt(this.container.style.width,10)>580?(this.container.style.width=`${Math.min(parseInt(this.container.style.width,10),window.innerWidth-this.scrollbarWidth)}px`,e=!0):(this.container.style.width="580px",e=!0),parseInt(this.container.style.height,10)>338?(this.container.style.height=`${Math.min(parseInt(this.container.style.height,10),window.innerHeight)}px`,e=!0):(this.container.style.height="338px",e=!0),e&&this.recalculateSize()}recalculateScrollBar(){this.hasScrollBar=window.innerWidth>document.documentElement.clientWidth,this.hasScrollBar?this.scrollbarWidth=this.getScrollBarWidth():this.scrollbarWidth=0}hideKeyboard(){document.activeElement.blur()}focus(){null!=this.contentManager&&void 0!==this.contentManager.onFocus&&this.contentManager.onFocus()}portraitMode(){return window.innerHeight>window.innerWidth}handleOpenedIosSoftkeyboard(){this.iosSoftkeyboardOpened||null==this.iosDivHeight||this.iosDivHeight!==`100${this.iosMeasureUnit}`||(this.portraitMode()?this.setContainerHeight(`63${this.iosMeasureUnit}`):this.setContainerHeight(`40${this.iosMeasureUnit}`)),this.iosSoftkeyboardOpened=!0}handleClosedIosSoftkeyboard(){this.iosSoftkeyboardOpened=!1,this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeIosSoftkeyboard(){this.iosSoftkeyboardOpened?this.portraitMode()?this.setContainerHeight(`63${this.iosMeasureUnit}`):this.setContainerHeight(`40${this.iosMeasureUnit}`):this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeAndroidSoftkeyboard(){this.setContainerHeight("100%")}setContainerHeight(e){this.iosDivHeight=e,this.wrapper.style.height=e}showPopUpMessage(){"minimized"===this.properties.state&&this.stack(),this.popup.show()}setTitle(e){this.title.innerHTML=e}getElementId(e){return`${e}[${this.instanceId}]`}}i(2);class A{constructor(e){this.language="en",this.editMode="images",this.modalDialog=null,this.customEditors=new b;if(this.customEditors.addEditor("chemistry",{name:"Chemistry",toolbar:"chemistry",icon:"chem.png",confVariable:"chemEnabled",title:"ChemType",tooltip:"Insert a chemistry formula - ChemType"}),this.environment={},this.editionProperties={},this.editionProperties.isNewElement=!0,this.editionProperties.temporalImage=null,this.editionProperties.latexRange=null,this.editionProperties.range=null,this.integrationModel=null,this.contentManager=null,this.browser=(()=>{const e=navigator.userAgent;let t="none";return e.search("Edge/")>=0?t="EDGE":e.search("Chrome/")>=0?t="CHROME":e.search("Trident/")>=0?t="IE":e.search("Firefox/")>=0?t="FIREFOX":e.search("Safari/")>=0&&(t="SAFARI"),t})(),this.listeners=new a,this.serviceProviderProperties={},!("serviceProviderProperties"in e))throw new Error("serviceProviderProperties property missing.");this.serviceProviderProperties=e.serviceProviderProperties}static get globalListeners(){return A._globalListeners}static set globalListeners(e){A._globalListeners=e}static get initialized(){return A._initialized}static set initialized(e){A._initialized=e}setIntegrationModel(e){this.integrationModel=e}setEnvironment(e){"editor"in e&&(this.environment.editor=e.editor),"mode"in e&&(this.environment.mode=e.mode),"version"in e&&(this.environment.version=e.version)}getModalDialog(){return this.modalDialog}init(){if(A.initialized)this.listeners.fire("onLoad",{});else{const e=a.newListener("onInit",()=>{const e=l.getService("configurationjs","","get"),t=JSON.parse(e);s.addConfiguration(t),s.addConfiguration(w),h.language=this.language,this.listeners.fire("onLoad",{})});l.addListener(e),l.init(this.serviceProviderProperties),A.initialized=!0}}addListener(e){this.listeners.add(e)}static addGlobalListener(e){A.globalListeners.add(e)}beforeUpdateFormula(e,t){const i=new x;return i.mathml=e,i.wirisProperties={},null!=t&&Object.keys(t).forEach(e=>{i.wirisProperties[e]=t[e]}),i.language=this.language,i.editMode=this.editMode,this.listeners.fire("onBeforeFormulaInsertion",i)?{}:A.globalListeners.fire("onBeforeFormulaInsertion",i)?{}:{mathml:i.mathml,wirisProperties:i.wirisProperties}}insertFormula(e,t,i,n){const o={};if(i)if("latex"===this.editMode){if(o.latex=c.getLatexFromMathML(i),this.integrationModel.fillNonLatexNode&&!o.latex){const n=new x;n.editMode=this.editMode,n.windowTarget=t,n.focusElement=e,n.latex=o.latex,this.integrationModel.fillNonLatexNode(n,t,i)}else o.node=t.document.createTextNode(`$$${o.latex}$$`);this.insertElementOnSelection(o.node,e,t)}else o.node=p.mathmlToImgObject(t.document,i,n,this.language),this.insertElementOnSelection(o.node,e,t);else this.insertElementOnSelection(null,e,t);return o}afterUpdateFormula(e,t,i,n){const o=new x;return o.editMode=this.editMode,o.windowTarget=t,o.focusElement=e,o.node=i,o.latex=n,this.listeners.fire("onAfterFormulaInsertion",o)?{}:(A.globalListeners.fire("onAfterFormulaInsertion",o),{})}placeCaretAfterNode(e){this.integrationModel.getSelection();const t=e.ownerDocument;if(void 0!==t.getSelection&&e.parentElement){const i=t.createRange();i.setStartAfter(e),i.collapse(!0);const n=t.getSelection();n.removeAllRanges(),n.addRange(i),t.body.focus()}}insertElementOnSelection(e,t,i){if(this.editionProperties.isNewElement)if(e)if("textarea"===t.type)m.updateTextArea(t,e.textContent);else if(document.selection&&0===document.getSelection){let t=i.document.selection.createRange();if(i.document.execCommand("InsertImage",!1,e.src),"parentElement"in t||(i.document.execCommand("delete",!1),t=i.document.selection.createRange(),i.document.execCommand("InsertImage",!1,e.src)),"parentElement"in t){const i=t.parentElement();"IMG"===i.nodeName.toUpperCase()?i.parentNode.replaceChild(e,i):t.pasteHTML(m.createObjectCode(e))}}else{const t=this.integrationModel.getSelection();let i=null;this.editionProperties.range?(({range:i}=this.editionProperties),this.editionProperties.range=null):i=t.getRangeAt(0),i.deleteContents();let n=i.startContainer;const o=i.startOffset;3===n.nodeType?(n=n.splitText(o)).parentNode.insertBefore(e,n):1===n.nodeType&&n.insertBefore(e,n.childNodes[o]),this.placeCaretAfterNode(e)}else if("textarea"===t.type)t.focus();else{const e=this.integrationModel.getSelection();if(e.removeAllRanges(),this.editionProperties.range){const{range:t}=this.editionProperties;this.editionProperties.range=null,e.addRange(t)}}else if(this.editionProperties.latexRange)document.selection&&0===document.getSelection?(this.editionProperties.isNewElement=!0,this.editionProperties.latexRange.select(),this.insertElementOnSelection(e,t,i)):(this.editionProperties.latexRange.deleteContents(),this.editionProperties.latexRange.insertNode(e),this.placeCaretAfterNode(e));else if("textarea"===t.type){let i;i=void 0!==this.integrationModel.getSelectedItem?this.integrationModel.getSelectedItem(t,!1):m.getSelectedItemOnTextarea(t),m.updateExistingTextOnTextarea(t,e.textContent,i.startPosition,i.endPosition)}else e&&"img"===e.nodeName.toLowerCase()?u.clone(e,this.editionProperties.temporalImage):this.editionProperties.temporalImage.remove(),this.placeCaretAfterNode(this.editionProperties.temporalImage)}openModalDialog(e,t){this.editMode="images";try{if(t){e.contentWindow.focus();const t=e.contentWindow.getSelection();this.editionProperties.range=t.getRangeAt(0)}else{e.focus();const t=getSelection();this.editionProperties.range=t.getRangeAt(0)}}catch(e){this.editionProperties.range=null}if(void 0===t&&(t=!0),this.editionProperties.latexRange=null,e){let i;if(i=void 0!==this.integrationModel.getSelectedItem?this.integrationModel.getSelectedItem(e,t):m.getSelectedItem(e,t)){if(!i.caretPosition&&m.containsClass(i.node,s.get("imageClassName")))this.editionProperties.temporalImage=i.node,this.editionProperties.isNewElement=!1;else if(3===i.node.nodeType)if(this.integrationModel.getMathmlFromTextNode){const e=this.integrationModel.getMathmlFromTextNode(i.node,i.caretPosition);e&&(this.editMode="latex",this.editionProperties.isNewElement=!1,this.editionProperties.temporalImage=document.createElement("img"),this.editionProperties.temporalImage.setAttribute(s.get("imageMathmlAttribute"),o.safeXmlEncode(e)))}else{const n=c.getLatexFromTextNode(i.node,i.caretPosition);if(n){const i=c.getMathMLFromLatex(n.latex);this.editMode="latex",this.editionProperties.isNewElement=!1,this.editionProperties.temporalImage=document.createElement("img"),this.editionProperties.temporalImage.setAttribute(s.get("imageMathmlAttribute"),o.safeXmlEncode(i));const r=t?e.contentWindow:window;if("textarea"!==e.tagName.toLowerCase())if(document.selection){let e=0,t=n.startNode.previousSibling;for(;t;)e+=m.getNodeLength(t),t=t.previousSibling;this.editionProperties.latexRange=r.document.selection.createRange(),this.editionProperties.latexRange.moveToElementText(n.startNode.parentNode),this.editionProperties.latexRange.move("character",e+n.startPosition),this.editionProperties.latexRange.moveEnd("character",n.latex.length+4)}else this.editionProperties.latexRange=r.document.createRange(),this.editionProperties.latexRange.setStart(n.startNode,n.startPosition),this.editionProperties.latexRange.setEnd(n.endNode,n.endPosition)}}}else"textarea"===e.tagName.toLowerCase()&&(this.editMode="latex")}const i=s.get("editorAttributes").split(", "),n={};for(let e=0,t=i.length;e<t;e+=1){const t=i[e].split("="),o=t[0],s=t[1];n[o]=s}const r={};Object.assign(r,n,s.get("editorParameters")),r.language=this.language,r.rtl=this.integrationModel.rtl;const l={};if(l.editorAttributes=r,l.language=this.language,l.customEditors=this.customEditors,l.environment=this.environment,null==this.modalDialog){this.modalDialog=new y(r),this.contentManager=new f(l);const e=a.newListener("onLoad",()=>{if(this.contentManager.isNewElement=this.editionProperties.isNewElement,null!=this.editionProperties.temporalImage){const e=o.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(s.get("imageMathmlAttribute")));this.contentManager.mathML=e}});this.contentManager.addListener(e),this.contentManager.init(),this.modalDialog.setContentManager(this.contentManager),this.contentManager.setModalDialogInstance(this.modalDialog)}else if(this.contentManager.isNewElement=this.editionProperties.isNewElement,null!=this.editionProperties.temporalImage){const e=o.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(s.get("imageMathmlAttribute")));this.contentManager.mathML=e}this.contentManager.setIntegrationModel(this.integrationModel),this.modalDialog.open()}getCustomEditors(){return this.customEditors}}A._globalListeners=new a,A._initialized=!1;class C{constructor(e){if(this.language="en",this.serviceProviderProperties={},"serviceProviderProperties"in e&&(this.serviceProviderProperties=e.serviceProviderProperties),this.configurationService="","configurationService"in e&&(this.serviceProviderProperties.URI=e.configurationService,console.warn("Deprecated property configurationService. Use serviceParameters on instead.",[e.configurationService])),this.version="version"in e?e.version:"",this.target=null,!("target"in e))throw new Error("IntegrationModel constructor error: target property missed.");this.target=e.target,"scriptName"in e&&(this.scriptName=e.scriptName),this.callbackMethodArguments={},"callbackMethodArguments"in e&&(this.callbackMethodArguments=e.callbackMethodArguments),this.environment={},"environment"in e&&(this.environment=e.environment),this.isIframe=!1,null!=this.target&&(this.isIframe="IFRAME"===this.target.tagName.toUpperCase()),this.editorObject=null,"editorObject"in e&&(this.editorObject=e.editorObject),this.rtl=!1,"rtl"in e&&(this.rtl=e.rtl),this.managesLanguage=!1,"managesLanguage"in e&&(this.managesLanguage=e.managesLanguage),this.temporalImageResizing=!1,this.core=null,this.listeners=new a,"integrationParameters"in e&&C.integrationParameters.forEach(t=>{t in e.integrationParameters&&(this[t]=e.integrationParameters[t])})}init(){this.language=this.getLanguage();const e=a.newListener("onLoad",()=>{this.callbackFunction(this.callbackMethodArguments)});if(-1!==this.serviceProviderProperties.URI.indexOf("configuration")){const e=this.serviceProviderProperties.URI,t=l.getServerLanguageFromService(e);this.serviceProviderProperties.server=t;const i=this.serviceProviderProperties.URI.indexOf("configuration"),n=this.serviceProviderProperties.URI.substring(0,i);this.serviceProviderProperties.URI=n}let t=this.serviceProviderProperties.URI;t=0===t.indexOf("/")||0===t.indexOf("http")?t:m.concatenateUrl(this.getPath(),t),this.serviceProviderProperties.URI=t;const i={};i.serviceProviderProperties=this.serviceProviderProperties,this.setCore(new A(i)),this.core.addListener(e),this.core.language=this.language,this.core.init(),this.core.setEnvironment(this.environment)}getPath(){if(void 0===this.scriptName)throw new Error("scriptName property needed for getPath.");const e=document.getElementsByTagName("script");let t="";for(let i=0;i<e.length;i+=1){const n=e[i].src.lastIndexOf(this.scriptName);n>=0&&(t=e[i].src.substr(0,n-1))}return t}setLanguage(e){this.language=e}setCore(e){this.core=e,e.setIntegrationModel(this)}getCore(){return this.core}setTarget(e){this.target=e,this.isIframe="IFRAME"===this.target.tagName.toUpperCase()}setEditorObject(e){this.editorObject=e}openNewFormulaEditor(){this.core.editionProperties.isNewElement=!0,this.core.openModalDialog(this.target,this.isIframe)}openExistingFormulaEditor(){this.core.editionProperties.isNewElement=!1,this.core.openModalDialog(this.target,this.isIframe)}updateFormula(e){let t,i;this.isIframe?(t=this.target.contentWindow,i=this.target.contentWindow):(t=this.target,i=window);let n=this.core.beforeUpdateFormula(e,null);return n&&(n=this.insertFormula(t,i,n.mathml,n.wirisProperties))?this.core.afterUpdateFormula(n.focusElement,n.windowTarget,n.node,n.latex):""}insertFormula(e,t,i,n){return this.core.insertFormula(e,t,i,n)}getSelection(){return this.isIframe?(this.target.contentWindow.focus(),this.target.contentWindow.getSelection()):(this.target.focus(),window.getSelection())}addEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;m.addElementEvents(e,(e,t)=>{this.doubleClickHandler(e,t)},(e,t)=>{this.mousedownHandler(e,t)},(e,t)=>{this.mouseupHandler(e,t)})}doubleClickHandler(e){if("img"===e.nodeName.toLowerCase()){this.core.getCustomEditors().disable();const t=s.get("imageCustomEditorName");if(e.hasAttribute(t)){const i=e.getAttribute(t);this.core.getCustomEditors().enable(i)}m.containsClass(e,s.get("imageClassName"))&&(this.core.editionProperties.temporalImage=e,this.core.editionProperties.isNewElement=!0,this.openExistingFormulaEditor())}}mouseupHandler(){this.temporalImageResizing&&setTimeout(()=>{u.fixAfterResize(this.temporalImageResizing)},10)}mousedownHandler(e){"img"===e.nodeName.toLowerCase()&&m.containsClass(e,s.get("imageClassName"))&&(this.temporalImageResizing=e)}getLanguage(){return this.getBrowserLanguage()}getBrowserLanguage(){let e="en";return e=navigator.userLanguage?navigator.userLanguage.substring(0,2):navigator.language?navigator.language.substring(0,2):"en"}callbackFunction(){const e=a.newListener("onTargetReady",()=>{this.addEvents(this.target)});this.listeners.add(e)}notifyWindowClosed(){}getMathmlFromTextNode(e,t){}fillNonLatexNode(e,t,i){}getSelectedItem(e,t){}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t,i){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}C.prototype.getMathmlFromTextNode=void 0,C.prototype.fillNonLatexNode=void 0,C.prototype.getSelectedItem=void 0,C.integrationParameters=["serviceProviderProperties","editorParameters"];var L=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=I(this,O(t).call(this,e))).initParsed=e.initParsed,i.isMoodle=e.isMoodle,i.isExternal=e.isExternal,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,C),function(e,t,i){t&&T(e.prototype,t),i&&T(e,i)}(t,[{key:"getPath",value:function(){if(this.isMoodle){var e=tinymce.baseURL.indexOf("lib/editor/tinymce");return tinymce.baseURL.substr(0,e+"lib/editor/tinymce".length)+"/plugins/tiny_mce_wiris/tinymce/"}if(this.isExternal){var t=this.editorObject.getParam("external_plugins").tiny_mce_wiris;return t.substring(0,t.lastIndexOf("/")+1)}return tinymce.baseURL+"/plugins/tiny_mce_wiris/"}},{key:"getIconsPath",value:function(){return this.isMoodle&&s.get("versionPlatform")<2013111800?this.getPath()+"icons/tinymce3/":this.getPath()+"icons/"}},{key:"getLanguage",value:function(){if(this.editorObject.settings.wirisformulaeditorlang)return editor.settings.wirisformulaeditorlang;var e=this.editorObject.getParam("language");return e||"en"}},{key:"callbackFunction",value:function(){var e=[];P(O(t.prototype),"callbackFunction",this).call(this);var i=s.get("imageClassName");this.isIframe?void 0!==p.observer&&Array.prototype.forEach.call(this.target.contentDocument.getElementsByClassName(i),function(e){p.observer.observe(e)}):Array.prototype.forEach.call(document.getElementsByClassName(i),function(e){p.observer.observe(e)});var n=a.newListener("onAfterFormulaInsertion",function(){void 0!==this.editorObject.fire&&this.editorObject.fire("Change")}.bind(this));this.getCore().addListener(n),e[this.editorObject.id]=this.editorObject.settings.images_dataimg_filter,this.editorObject.settings.images_dataimg_filter=function(t){return t.hasAttribute("class")&&-1!=t.getAttribute("class").indexOf(s.get("imageClassName"))?t.hasAttribute("internal-blob"):void 0===e[this.editorObject.id]||e[this.editorObject.id](t)}}}]),t}();tinymce.create("tinymce.plugins.tiny_mce_wiris",{init:function(e,t){e.settings.extended_valid_elements+=","+["math[*]","maction[*]]","malignmark[*]","maligngroup[*]","menclose[*]","merror[*]","mfenced[*]","mfrac[*]","mglyph[*]","mi[*]","mlabeledtr[*]","mlongdiv[*]","mmultiscripts[*]","mn[*]","mo[*]","mover[*]","mpadded[*]","mphantom[*]","mprescripts[*]","mroot[*]","mrow[*]","ms[*]","mscarries[*]","mscarry[*]","msgroup[*]","msline[*]","mspace[*]","msqrt[*]","msrow[*]","mstack[*]","mstyle[*]","msub[*]","msubsup[*]","msup[*]","mtable[*]","mtd[*]","mtext[*]","mtr[*]","munder[*]","munderover[*]","semantics[*]","annotation[*]"].join();var i={serviceProviderProperties:{}};i.serviceProviderProperties.URI=M.cfg.wwwroot+"/filter/wiris/integration/",i.serviceProviderProperties.server="php",i.version="7.12.0.1412",i.isMoodle=!0,void 0!==e.getParam("wiriscontextpath")&&(i.configurationService=m.concatenateUrl(e.getParam("wiriscontextpath"),i.configurationService),e.getParam("wiriscontextpath"),i.configurationService,console.warn("Deprecated property wiriscontextpath. Use mathTypeParameters on instead.",e.opts.wiriscontextpath)),void 0!==e.getParam("mathTypeParameters")&&(i.integrationParameters=e.getParam("mathTypeParameters")),i.scriptName="plugin.min.js",i.environment={};var n="4";"5"===tinyMCE.majorVersion&&(n="5"),i.environment.editor="TinyMCE "+n+".x",i.callbackMethodArguments={},i.editorObject=e,i.initParsed=!1,i.target=null;var o=void 0!==e.getParam("external_plugins")&&"tiny_mce_wiris"in e.getParam("external_plugins");i.isExternal=o,i.rtl="rtl"===e.getParam("directionality");var r=new L(i);r.init(),WirisPlugin.instances[r.editorObject.id]=r,WirisPlugin.currentInstance=r;var a=function(e){var t=WirisPlugin.instances[r.editorObject.id];e.inline?t.setTarget(e.getElement()):t.setTarget(e.getContentAreaContainer().firstChild),t.setEditorObject(e),t.listeners.fire("onTargetReady",{}),"wiriseditorparameters"in e.settings&&s.update("editorParameters",e.settings.wiriseditorparameters),new MutationObserver(function(e,t){Array.prototype.forEach.call(t,function(e,t){Array.prototype.forEach.call(t.addedNodes,function(e,t){1==t.nodeType&&Array.prototype.forEach.call(t.querySelectorAll(".".concat(WirisPlugin.Configuration.get("imageClassName"))),function(e,t){t.removeAttribute("data-mce-src"),t.removeAttribute("data-mce-style"),e.undoManager.clear()}.bind(this,e))}.bind(this,e))}.bind(this,e))}.bind(this,e)).observe(e.getBody(),{attributes:!0,childList:!0,characterData:!0,subtree:!0});var i=e.getContent();e.getParam("fullscreen_is_enabled")||""===i||(e.setContent(p.initParse(i,e.getParam("language")),{format:"html"}),e.undoManager.clear()),WirisPlugin.instances[e.id].initParsed=!0};"onInit"in e?e.onInit.add(a):e.on("init",function(){a(e)}),"onActivate"in e?e.onActivate.add(function(e){WirisPlugin.currentInstance=WirisPlugin.instances[tinymce.activeEditor.id]}):e.on("focus",function(e){WirisPlugin.currentInstance=WirisPlugin.instances[tinymce.activeEditor.id]});var l,c=function(e,t){t.content=p.endParse(t.content,e.getParam("language"))};function d(){var t=WirisPlugin.instances[e.id];t.core.getCustomEditors().disable(),t.openNewFormulaEditor()}"onSaveContent"in e?e.onSaveContent.add(c):e.on("saveContent",function(t){c(e,t)}),"onGetContent"in e?e.onGetContent.add(c):e.on("getContent",function(t){c(e,t)}),"onBeforeSetContent"in e?e.onBeforeSetContent.add(function(t,i){WirisPlugin.instances[e.id].initParsed&&(i.content=p.initParse(i.content,e.getParam("language")))}):e.on("beforeSetContent",function(t){WirisPlugin.instances[e.id].initParsed&&(t.content=p.initParse(t.content,e.getParam("language")))}),"5"===tinyMCE.majorVersion?l=e.ui.registry:(l=e).addCommand("tiny_mce_wiris_openFormulaEditor",d),l.addButton("tiny_mce_wiris_formulaEditor",{tooltip:"Insert a math equation - MathType",title:"Insert a math equation - MathType",cmd:"tiny_mce_wiris_openFormulaEditor",image:WirisPlugin.instances[e.id].getIconsPath()+"formula.png",onAction:d,icon:'<svg width="16" height="16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve"><g id=icon-wirisformula stroke="none" stroke-width="1" fill-rule="evenodd"><g><path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6C91.6,257.7,90.9,257.7,90.2,257.7"/></g></g><g><g><path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/></g></g></svg>'});var h=WirisPlugin.instances[e.id].getCore().getCustomEditors();for(var u in h.editors)if(h.editors[u].confVariable){var g=function(){h.enable(u),WirisPlugin.instances[e.id].openNewFormulaEditor()},_="tiny_mce_wiris_openFormulaEditor"+h.editors[u].name;e.addCommand(_,g),l.addButton("tiny_mce_wiris_formulaEditor"+h.editors[u].name,{title:h.editors[u].tooltip,tooltip:h.editors[u].tooltip,onAction:g,cmd:_,icon:'<svg width="16" height="16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">  <image id="image0" width="16" height="16" x="0" y="0"href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiChwSIwERK9BGAAABfklEQVQoz12RvUtbcRiFn/uRXKNJNCJSokFFqoKDIjHEqKA4WRAc/AsUKl2Ck5ODIKKDm4v+BbqIEr8WQ+hgQSgOElGJgkPTih+3tUabeL3353A1CX3Hcx7OC+dIAIL3CwXEmJU6XBHWuyIVgIjrOcoUblCTrolE/D+gc0QsUJePEtrGh+jajzcg1GQu0W87ldl7zZQAtPP9Dh5lADNm25rx+Xb7ZdWMCAARyHXhVQD8iwAD+qLV61B++U4Hb5pKS9Tx3w05Umr+K3Mlsk6SfY7x9oX7OvDiwlEEoLPLNkdc4yRJG9WkuCoCxBV7JMhg8cgRl7h44m9xwhM3PLyVYnBni3LBX64p4MHGYLSzOV9UWDd8AO608iW+2eP5NyVN4JR/7rRU2T0MzVRmATI197FIInsmTeIErcwTxqcAxHPDFdLHE4cJmPV4AAKZ+XStyrkCMC00K8Qnj+6+kAFKjfE/sw6/zAXf7bFUqmill+5v7es+vzVqlhukOWCLr6/ZMH/PRaOKYwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMC0yOVQwMTozNTowMS0wNzowMOC+eEAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTAtMjlUMDE6MzU6MDEtMDc6MDCR48D8AAAAAElFTkSuQmCC" /></svg>',image:WirisPlugin.instances[e.id].getIconsPath()+h.editors[u].icon})}},getInfo:function(){return{longname:"tiny_mce_wiris",author:"Maths for More",authorurl:"http://www.wiris.com",infourl:"http://www.wiris.com",version:"7.12.0.1412"}}}),tinymce.PluginManager.add("tiny_mce_wiris",tinymce.plugins.tiny_mce_wiris);class S{static init(){S.testServices()}static testServices(){let e;console.log("Testing configuration service..."),console.log(l.getService("configurationjs","","get")),console.log("Testing showimage service..."),(e=[]).mml='<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>',console.log(l.getService("showimage",e)),console.log("Testing createimage service..."),(e=[]).mml='<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>',console.log(l.getService("createimage",e,"post")),console.log("Testing MathML2Latex service..."),(e=[]).service="mathml2latex",e.mml='<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>',console.log(l.getService("service",e)),console.log("Testing Latex2MathML service..."),(e=[]).service="latex2mathml",e.latex="x^2",console.log(l.getService("service",e)),console.log("Testing Mathml2Accesible service..."),(e=[]).service="mathml2accessible",e.mml='<math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup></math>',console.log(l.getService("service",e))}}window.WirisPlugin={Core:A,Parser:p,Image:u,Util:m,Configuration:s,Listeners:a,IntegrationModel:C,currentInstance:null,instances:{},TinyMceIntegration:L,Latex:c,Test:S}}]);